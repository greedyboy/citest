<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>WQian.Net</title>
  
  <subtitle>Working For Daybreak</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://wqian.net/"/>
  <updated>2018-05-31T01:15:29.517Z</updated>
  <id>https://wqian.net/</id>
  
  <author>
    <name>WQian</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hello World</title>
    <link href="https://wqian.net/blog/2018/0531-hello-world.html"/>
    <id>https://wqian.net/blog/2018/0531-hello-world.html</id>
    <published>2018-05-31T01:15:29.517Z</published>
    <updated>2018-05-31T01:15:29.517Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><a id="more"></a><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;Quick-Start&quot;&gt;&lt;a href=&quot;#Quick-Start&quot; class=&quot;headerlink&quot; title=&quot;Quick Start&quot;&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;&lt;h3 id=&quot;Create-a-new-post&quot;&gt;&lt;a href=&quot;#Create-a-new-post&quot; class=&quot;headerlink&quot; title=&quot;Create a new post&quot;&gt;&lt;/a&gt;Create a new post&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo new &lt;span class=&quot;string&quot;&gt;&quot;My New Post&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/writing.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Writing&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Run-server&quot;&gt;&lt;a href=&quot;#Run-server&quot; class=&quot;headerlink&quot; title=&quot;Run server&quot;&gt;&lt;/a&gt;Run server&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="hexo" scheme="https://wqian.net/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>那明明就是爱</title>
    <link href="https://wqian.net/blog/2018/0526-the-old-love.html"/>
    <id>https://wqian.net/blog/2018/0526-the-old-love.html</id>
    <published>2018-05-26T13:17:23.000Z</published>
    <updated>2018-05-31T01:15:29.521Z</updated>
    
    <content type="html"><![CDATA[<!-- Hexo daybreak git vb.net 健康 博客设置 网络日志 软件列表 魔法书签  --><!--![图]() --><!--[]() --><p><img src="https://wx2.sinaimg.cn/large/3f2c99ebgy1frp1ty81vwj21kw23ue81.jpg" alt=""></p><blockquote><p>我就是一个念旧的人，无法去逃离自己的内心，又一次回到了那个地方，曾经怀揣梦想，而如今，愧对曾经，也不敢亲往，而今却为它事，又一次来到这个地方。旧日时光悄然而去，情愫依旧，爱依然。奈何，我却奈何。散乱情愫，表为凌乱。</p></blockquote><a id="more"></a><p>风抚叶扬，凌波涤荡，禽鸟畅鸣，蝶舞花香。百感交集，无法用言语把我的情感穿起来，因为我的思绪完全凌乱了，旧爱让我无法自持。</p><p><img src="https://wx2.sinaimg.cn/large/3f2c99ebgy1frp1r4eilwj21kw16ou11.jpg" alt=""><br>因为一片绿，感念一个家，弥久弥恋。鸟儿愿意飞进来的教室，我想也是令人神往吧</p><p><img src="https://wx4.sinaimg.cn/large/3f2c99ebgy1frp1twt1v4j21kw16oqkm.jpg" alt=""><br>窗明几净，整洁有序，敬畏之心，油然而生<br><img src="https://wx1.sinaimg.cn/large/3f2c99ebgy1frp1u1lp7yj21kw23u1kx.jpg" alt=""><br><img src="https://wx3.sinaimg.cn/large/3f2c99ebgy1frp1tvkvmxj21kw16otom.jpg" alt=""><br><img src="https://wx4.sinaimg.cn/large/3f2c99ebgy1frp1tukw31j21kw16owri.jpg" alt=""><br><img src="https://wx2.sinaimg.cn/large/3f2c99ebgy1frp1ttgtw3j21kw23u1kx.jpg" alt=""><br><img src="https://wx2.sinaimg.cn/large/3f2c99ebgy1frp1ts192qj21kw16oh05.jpg" alt=""><br><img src="https://wx3.sinaimg.cn/large/3f2c99ebgy1frp1qhhhrhj21kw16ohdw.jpg" alt=""><br>无论你是否在追求细节，但是我从细节里感受到了你的真心</p><p><img src="https://wx1.sinaimg.cn/large/3f2c99ebgy1frp1tzwvbdj21kw23u1kx.jpg" alt=""><br>完全没有记住热水零落在何处，但却体会到温情索绕身边。看到的不是提示，而是作为家长的一份情怀</p><p><img src="https://wx1.sinaimg.cn/large/3f2c99ebgy1frp1uib4x3j21kw23ukgy.jpg" alt=""><br>当上课铃声演化成一段音乐的时候，上课也变成了一种享受，念念不忘，必有回响。</p><p><img src="https://wx4.sinaimg.cn/large/3f2c99ebgy1frp1u8nsa3j21kw16o7n4.jpg" alt=""><br>半栋楼，18个教室，每个教室52个灯管，每一个都能亮，我不是在炫耀我的数数能力有多强，我只是在思考：一个什么样的后勤服务团队才可以做到这样的一个保障。</p><p><img src="https://wx1.sinaimg.cn/large/3f2c99ebgy1frp1ugrg1uj21kw23ukjl.jpg" alt=""><br>我们可以容忍某个细节做的不好，但是无法忍受一个细节也没有做好</p><p><img src="https://wx4.sinaimg.cn/large/3f2c99ebgy1frp1u2zmd4j21kw23u4qg.jpg" alt=""><br>相偎之时，不懂爱，陌路渐行，方觉是爱，唯憾爱已久远。</p>]]></content>
    
    <summary type="html">
    
      &lt;!-- Hexo daybreak git vb.net 健康 博客设置 网络日志 软件列表 魔法书签  --&gt;
&lt;!--![图]() --&gt;
&lt;!--[]() --&gt;
&lt;p&gt;&lt;img src=&quot;https://wx2.sinaimg.cn/large/3f2c99ebgy1frp1ty81vwj21kw23ue81.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;我就是一个念旧的人，无法去逃离自己的内心，又一次回到了那个地方，曾经怀揣梦想，而如今，愧对曾经，也不敢亲往，而今却为它事，又一次来到这个地方。旧日时光悄然而去，情愫依旧，爱依然。奈何，我却奈何。散乱情愫，表为凌乱。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="随笔" scheme="https://wqian.net/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="diary" scheme="https://wqian.net/tags/diary/"/>
    
  </entry>
  
  <entry>
    <title>打倒拖延症</title>
    <link href="https://wqian.net/blog/2018/0523-now-go-go-index.html"/>
    <id>https://wqian.net/blog/2018/0523-now-go-go-index.html</id>
    <published>2018-05-22T18:28:01.000Z</published>
    <updated>2018-05-31T01:15:29.521Z</updated>
    
    <content type="html"><![CDATA[<!-- Hexo daybreak git vb.net 健康 博客设置 网络日志 软件列表 魔法书签 --><!--![图]() --><!--[]() --><p><img src="https://wx3.sinaimg.cn/large/3f2c99ebgy1frkogo8u1aj20qf0jitaa.jpg" alt="拖延症"></p><blockquote><p>有人说，这是一种懒癌的表现。对于我自己，有严重的拖延症，导致很多事情临近终结才开始进行，于是效果平平，事与愿违。一直想克服，可是效果一直不是很好，将要到达自我毁灭的地步，基要于这点，要改变，一定要改变，从以下入手吧。</p></blockquote><a id="more"></a><p>克服拖延症</p><ul><li>做细项目规划</li><li>做好时间管理</li><li>摒弃无意义的事情</li><li>不能评自己的喜欢和讨厌做事情</li><li>不能有私心杂念</li><li>不能依靠明天</li><li>时刻牢记，就是现在</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;!-- Hexo daybreak git vb.net 健康 博客设置 网络日志 软件列表 魔法书签 --&gt;
&lt;!--![图]() --&gt;
&lt;!--[]() --&gt;
&lt;p&gt;&lt;img src=&quot;https://wx3.sinaimg.cn/large/3f2c99ebgy1frkogo8u1aj20qf0jitaa.jpg&quot; alt=&quot;拖延症&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;有人说，这是一种懒癌的表现。对于我自己，有严重的拖延症，导致很多事情临近终结才开始进行，于是效果平平，事与愿违。一直想克服，可是效果一直不是很好，将要到达自我毁灭的地步，基要于这点，要改变，一定要改变，从以下入手吧。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="daybreak" scheme="https://wqian.net/categories/daybreak/"/>
    
    
      <category term="diary" scheme="https://wqian.net/tags/diary/"/>
    
  </entry>
  
  <entry>
    <title>利用js匹配img标签中的src的值</title>
    <link href="https://wqian.net/blog/2018/0522-img-src-regex-index.html"/>
    <id>https://wqian.net/blog/2018/0522-img-src-regex-index.html</id>
    <published>2018-05-22T14:13:07.000Z</published>
    <updated>2018-05-31T01:15:29.521Z</updated>
    
    <content type="html"><![CDATA[<!-- Hexo daybreak git vb.net 健康 博客设置 网络日志 软件列表 魔法书签 --><!--![图]() --><!--[]() --><blockquote><p>太牛的方法了，震撼。</p></blockquote><a id="more"></a><h3 id="利用js匹配img标签中的-src的值"><a href="#利用js匹配img标签中的-src的值" class="headerlink" title="利用js匹配img标签中的 src的值"></a>利用js匹配img标签中的 src的值</h3><h4 id="方法1"><a href="#方法1" class="headerlink" title="方法1"></a>方法1</h4><ul><li>机智大牛<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var frag = document.createElement(&apos;div&apos;);</span><br><span class="line">frag.innerHTML = &apos;&lt;div&gt;\</span><br><span class="line">    &lt;img src=&quot;http://www.baidu.com/pic/a.jpg&quot; alt=&quot;&quot; /&gt;\</span><br><span class="line">    &lt;p&gt;this is a pic&lt;/p&gt;\</span><br><span class="line">    &lt;img src=&quot;http://www.baidu.com/pic/b.jpg&quot; /&gt;\</span><br><span class="line">    &lt;p&gt;this is pic b&lt;/p&gt;\</span><br><span class="line">&lt;/div&gt;&apos;;</span><br><span class="line">var result = [].map.call(frag.querySelectorAll(&apos;img&apos;), function(img)&#123; return img.src &#125;);</span><br><span class="line"></span><br><span class="line">console.log(result);</span><br></pre></td></tr></table></figure></li></ul><h4 id="方法2"><a href="#方法2" class="headerlink" title="方法2"></a>方法2</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">另外，match 的话 g 模式不支持输出匹配结果的，你只能使用 while + exec 才行。</span><br><span class="line"></span><br><span class="line">var str = &apos;&lt;div&gt;\</span><br><span class="line">    &lt;img src=&quot;http://www.baidu.com/pic/a.jpg&quot; alt=&quot;&quot; /&gt;\</span><br><span class="line">    &lt;p&gt;this is a pic&lt;/p&gt;\</span><br><span class="line">    &lt;img src=&quot;http://www.baidu.com/pic/b.jpg&quot; /&gt;\</span><br><span class="line">    &lt;p&gt;this is pic b&lt;/p&gt;\</span><br><span class="line">&lt;/div&gt;&apos;;</span><br><span class="line">var patt = /&lt;img[^&gt;]+src=[&apos;&quot;]([^&apos;&quot;]+)[&apos;&quot;]+/g;</span><br><span class="line">var result = [], temp;</span><br><span class="line"></span><br><span class="line">while( (temp= patt.exec(str)) != null ) &#123;</span><br><span class="line">    result.push(temp[1]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(result);</span><br></pre></td></tr></table></figure><h4 id="方法3"><a href="#方法3" class="headerlink" title="方法3"></a>方法3</h4><ul><li>实现很难<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var str = &quot;this is test string </span><br><span class="line">&lt;img src=\&quot;http:yourweb.com/test.jpg\&quot;width=&apos;50&apos; &gt;123 and the end </span><br><span class="line">&lt;img src=\&quot;所有地址也能匹配.jpg\&quot; /&gt; </span><br><span class="line">&lt;img src=\&quot;/uploads/attached/image/20120426/20120426225658_92565.png\&quot; alt=\&quot;\&quot; /&gt;&quot;</span><br><span class="line">//匹配图片（g表示匹配所有结果i表示区分大小写）</span><br><span class="line">var imgReg = /&lt;img.*?(?:&gt;|\/&gt;)/gi;</span><br><span class="line">//匹配src属性 </span><br><span class="line">var srcReg = /src=[\&apos;\&quot;]?([^\&apos;\&quot;]*)[\&apos;\&quot;]?/i;</span><br><span class="line">var arr = str.match(imgReg);</span><br><span class="line">alert(&apos;所有已成功匹配图片的数组：&apos;+arr);</span><br><span class="line">for (var i = 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">  var src = arr[i].match(srcReg);</span><br><span class="line">  //获取图片地址</span><br><span class="line">  if(src[1])&#123;</span><br><span class="line">    alert(&apos;已匹配的图片地址&apos;+(i+1)+&apos;：&apos;+src[1]);</span><br><span class="line">  &#125;</span><br><span class="line">  //当然你也可以替换src属性</span><br><span class="line"> if (src[0]) &#123;</span><br><span class="line">    var t = src[0].replace(/src/i, &quot;href&quot;);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="js根据xpath获取网页元素"><a href="#js根据xpath获取网页元素" class="headerlink" title="js根据xpath获取网页元素"></a>js根据xpath获取网页元素</h3><h4 id="方法1-1"><a href="#方法1-1" class="headerlink" title="方法1"></a>方法1</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//获取节点</span><br><span class="line">function _x(STR_XPATH) &#123;</span><br><span class="line">    var xresult = document.evaluate(STR_XPATH, document, null, XPathResult.ANY_TYPE, null);</span><br><span class="line">    var xnodes = [];</span><br><span class="line">    var xres;</span><br><span class="line"></span><br><span class="line">    while (xres == xresult.iterateNext()) &#123;</span><br><span class="line">        xnodes.push(xres);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return xnodes;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="方法2-1"><a href="#方法2-1" class="headerlink" title="方法2"></a>方法2</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function _x3(STR_XPATH) &#123;</span><br><span class="line">    var oResult = document.evaluate(STR_XPATH, document, null, XPathResult.ANY_TYPE, null);</span><br><span class="line">    var aNodes = [];</span><br><span class="line">    if (oResult != null) &#123;</span><br><span class="line">        var oElement = oResult.iterateNext();</span><br><span class="line">        while (oElement) &#123;</span><br><span class="line">            aNodes.push(oElement);</span><br><span class="line">            oElement = oResult.iterateNext();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return aNodes;</span><br><span class="line">&#125;</span><br><span class="line">// 如果只查找单个元素，可以简写成这样</span><br><span class="line">//nodes=document.evaluate(&quot;//div[1]&quot;, document).iterateNext();</span><br></pre></td></tr></table></figure><h3 id="文献参考"><a href="#文献参考" class="headerlink" title="文献参考"></a>文献参考</h3><ul><li><a href="https://segmentfault.com/q/1010000004178052" target="_blank" rel="noopener">https://segmentfault.com/q/1010000004178052</a></li><li><a href="http://www.jb51.net/article/54526.htm" target="_blank" rel="noopener">http://www.jb51.net/article/54526.htm</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;!-- Hexo daybreak git vb.net 健康 博客设置 网络日志 软件列表 魔法书签 --&gt;
&lt;!--![图]() --&gt;
&lt;!--[]() --&gt;
&lt;blockquote&gt;
&lt;p&gt;太牛的方法了，震撼。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="网络日志" scheme="https://wqian.net/categories/%E7%BD%91%E7%BB%9C%E6%97%A5%E5%BF%97/"/>
    
    
      <category term="js" scheme="https://wqian.net/tags/js/"/>
    
      <category term="正则" scheme="https://wqian.net/tags/%E6%AD%A3%E5%88%99/"/>
    
  </entry>
  
  <entry>
    <title>m咳嗽用药备注</title>
    <link href="https://wqian.net/blog/2018/0522-cought-index.html"/>
    <id>https://wqian.net/blog/2018/0522-cought-index.html</id>
    <published>2018-05-22T00:42:27.000Z</published>
    <updated>2018-05-31T01:15:29.521Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>从2018年3月份以来，将近三个月时间里，持续的咳嗽。4月份的时候去中心医院检查了一下肺部，拍了ct，诊断肺部没有什么特殊情况，应该是支气管发炎症状，医生给开了一些药，然后持续治疗，有一定好转，仅为自己健康几率，如有和我相同症状的朋友，切勿对照我的情况给自己随便开药，还是要去医院诊断之后再按照医生要求治疗。</p></blockquote><a id="more"></a><h3 id="重点强调"><a href="#重点强调" class="headerlink" title="重点强调"></a>重点强调</h3><ul><li>本记录仅为笔者自己身体健康记录，如有相同境遇，还请前往医院，尊医嘱治疗。切勿随意用药。</li></ul><h3 id="症状"><a href="#症状" class="headerlink" title="症状"></a>症状</h3><ul><li>干咳嗽</li><li>基本没有痰</li><li>无头痛，发热症状</li></ul><h3 id="第一次治疗"><a href="#第一次治疗" class="headerlink" title="第一次治疗"></a>第一次治疗</h3><ul><li>持续时间，2个月左右</li><li>拍肺部ct,无明显特殊症状</li><li>开药：强力枇杷露()，肺力咳胶囊</li></ul><h3 id="第一次治疗效果"><a href="#第一次治疗效果" class="headerlink" title="第一次治疗效果"></a>第一次治疗效果</h3><ul><li>治疗持续了有2个星期左右</li><li>好转之后断断续续停药</li><li>导致每天不定时间歇一点咳嗽</li><li>天冷有点加剧</li><li>所以进行第二次治疗</li></ul><h3 id="第二次用药"><a href="#第二次用药" class="headerlink" title="第二次用药"></a>第二次用药</h3><ul><li>强力枇杷露(胡庆余堂)，头孢克肟分散片(金鸿药业股份有限公司)</li></ul><h3 id="疗效及后需注意问题"><a href="#疗效及后需注意问题" class="headerlink" title="疗效及后需注意问题"></a>疗效及后需注意问题</h3><ul><li>又有好转，要坚持用药</li><li>坚持喝水，不喝水可能是早晨本问题持续的根源</li><li>再加上用嗓子比较厉害，注意保护</li><li>曾怀疑有一些咽炎的问题，目前看来，关联不明显。</li></ul><h3 id="药品说明链接"><a href="#药品说明链接" class="headerlink" title="药品说明链接"></a>药品说明链接</h3><ul><li><a href="https://baike.baidu.com/item/%E5%BC%BA%E5%8A%9B%E6%9E%87%E6%9D%B7%E9%9C%B2" target="_blank" rel="noopener">强力枇杷露</a></li><li><a href="https://baike.baidu.com/item/%E5%93%88%E5%B0%94%E6%BB%A8%E5%B8%82%E5%BA%B7%E9%9A%86%E8%8D%AF%E4%B8%9A%E6%9C%89%E9%99%90%E8%B4%A3%E4%BB%BB%E5%85%AC%E5%8F%B8/13783339" target="_blank" rel="noopener">哈尔滨市康隆药业有限责任公司</a></li><li><a href="https://baike.baidu.com/item/%E8%83%A1%E5%BA%86%E4%BD%99%E5%A0%82%E5%9B%BD%E8%8D%AF%E5%8F%B7" target="_blank" rel="noopener">胡庆余堂国药号</a></li><li><a href="https://baike.baidu.com/item/%E8%82%BA%E5%8A%9B%E5%92%B3%E8%83%B6%E5%9B%8A/6409940" target="_blank" rel="noopener">肺力咳胶囊</a></li><li><a href="https://baike.baidu.com/item/%E8%B4%B5%E5%B7%9E%E5%81%A5%E5%85%B4%E8%8D%AF%E4%B8%9A%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8/4588939" target="_blank" rel="noopener">贵州健兴药业有限公司</a></li><li><a href="https://baike.baidu.com/item/%E5%A4%B4%E5%AD%A2%E5%85%8B%E8%82%9F%E5%88%86%E6%95%A3%E7%89%87" target="_blank" rel="noopener">头孢克肟分散片</a></li><li><a href="https://baike.baidu.com/item/%E7%8F%A0%E6%B5%B7%E9%87%91%E9%B8%BF%E8%8D%AF%E4%B8%9A%E8%82%A1%E4%BB%BD%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8/7281439" target="_blank" rel="noopener">金鸿药业股份有限公司</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;从2018年3月份以来，将近三个月时间里，持续的咳嗽。4月份的时候去中心医院检查了一下肺部，拍了ct，诊断肺部没有什么特殊情况，应该是支气管发炎症状，医生给开了一些药，然后持续治疗，有一定好转，仅为自己健康几率，如有和我相同症状的朋友，切勿对照我的情况给自己随便开药，还是要去医院诊断之后再按照医生要求治疗。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="健康" scheme="https://wqian.net/categories/%E5%81%A5%E5%BA%B7/"/>
    
    
      <category term="咳嗽" scheme="https://wqian.net/tags/%E5%92%B3%E5%97%BD/"/>
    
  </entry>
  
  <entry>
    <title>限制想象力的因素</title>
    <link href="https://wqian.net/blog/2018/0522-index.html"/>
    <id>https://wqian.net/blog/2018/0522-index.html</id>
    <published>2018-05-21T16:54:17.000Z</published>
    <updated>2018-05-31T01:15:29.521Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>我们在做一件事情，或者在开发一个项目，或者在搞一项科研，或者在自high一段很高深的不可描述，怕就怕想象力被封掉。或者你的想象力是已经是别人踩在脚底的坑。<br><a id="more"></a><br>暂且就分析几个因素吧</p></blockquote><p>贫穷</p><p>主要是以知识贫乏为代表，没有任何知识或技术内涵为根本，那么就没有办法去完成你的构思，这个事实限制你想象力的不是没有想象力，而是变成了纯粹的想。而且不切实际，随之而带来的就是第二大因素。</p><p>无力</p><p>无力行动，无力深入，无力继续，无力学习，这些就可以隐藏很多你所无法开发的自身的潜能，限制了对自己的认识，无法去想象你自身的强大，随之而陷入无休止的沉沦。</p><p>狭隘</p><p>狭隘的视角，让你看不到别人的高度，当努力攀爬时你会发现，你终究会发现，你所企及的高度，可能别人已经从哪个高度延伸到了更进一步的境界。</p><p>懒惰</p><p>这是一种病，其实说没有时间是一种推诿懒惰的表现，有人说过，没时间做事，其实就意味着你根本没有把这件事当做一件事来做，显然，很多时候，是这样的。</p><p>拖延</p><p>根本原因来自于漠视，恐惧，无秩，凌乱。可能最根本的原因是没有把脑子内存去理清，做其实没有那么难。</p><p>背驰</p><p>我把知行不一叫做背驰，听了大宇茶馆的话说明朝，稍微了解了王阳明的执行合一，我所以为，难为的是合。合，方得大道。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;我们在做一件事情，或者在开发一个项目，或者在搞一项科研，或者在自high一段很高深的不可描述，怕就怕想象力被封掉。或者你的想象力是已经是别人踩在脚底的坑。&lt;br&gt;
    
    </summary>
    
      <category term="daybreak" scheme="https://wqian.net/categories/daybreak/"/>
    
    
      <category term="diary" scheme="https://wqian.net/tags/diary/"/>
    
  </entry>
  
  <entry>
    <title>javascript跨域数据获取jsonp或iframe</title>
    <link href="https://wqian.net/blog/2018/0521-index.html"/>
    <id>https://wqian.net/blog/2018/0521-index.html</id>
    <published>2018-05-21T08:47:24.000Z</published>
    <updated>2018-05-31T01:15:29.521Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>javascript数据访问进行跨域数据获取，已知的方法及存在的局限性。</p></blockquote><a id="more"></a><h3 id="jsonp跨域"><a href="#jsonp跨域" class="headerlink" title="jsonp跨域"></a>jsonp跨域</h3><ul><li>需要在使用ajax的jsonp访问模式</li><li>获取形式为异步获取</li><li>需要在服务器端进行格式设置，只能是jsonp的数据格式</li><li><p>通信代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//只能运用异步中,成功代码了。 </span><br><span class="line">  $.ajax(&#123;</span><br><span class="line">       async:false, </span><br><span class="line">       url:phpsrc,    //跨域到http://www.xiaoqiang2.com，另，http://xiaoqiang.com也算跨域  </span><br><span class="line">       type:&apos;GET&apos;,  //jsonp 类型下只能使用GET,不能用POST,使用post提交会造成有些浏览器获取不到返回   例如firebug  </span><br><span class="line">       dataType:&apos;jsonp&apos;, //指定为jsonp类型  </span><br><span class="line">       data:&#123;&quot;user&quot;:user,&quot;pwd&quot;:pwd,&quot;src&quot;:src,&quot;ver&quot;:ver&#125;,//数据参数  </span><br><span class="line">       jsonp:&apos;callback&apos;,//服务器端获取回调函数名的key，对应后台有$_GET[&apos;callback&apos;]=&apos;getName&apos;;callback是默认值  </span><br><span class="line">       jsonpCallback:&apos;JRgetMessage&apos;, //回调函数名  </span><br><span class="line">       success:function(result)&#123;  //成功执行处理，对应后台返回的getName(data)方法。  </span><br><span class="line">         ress=JSON.stringify(result);</span><br><span class="line">         alert(ress);</span><br><span class="line">         &#125;,  </span><br><span class="line">       error:function(msg)&#123;  </span><br><span class="line">        alert(&apos;ServerErr:&apos;+msg)  </span><br><span class="line">       &#125;  </span><br><span class="line">   &#125;);   </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>可以根据其返回code进行网页通断的检测</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">function UrlOK(url)&#123;</span><br><span class="line">   // url=&quot;http://www.google.com&quot;;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        type: &apos;get&apos;,</span><br><span class="line">        cache: false,</span><br><span class="line">        url: url,</span><br><span class="line">        dataType: &quot;jsonp&quot;, //跨域采用jsonp方式 </span><br><span class="line">        processData: false,</span><br><span class="line">        timeout:5000, //超时时间，毫秒</span><br><span class="line">        complete: function (data) &#123;</span><br><span class="line">            if (data.status==200) &#123;</span><br><span class="line">                alert(&apos;ok&apos;);</span><br><span class="line">              &#125; else &#123;</span><br><span class="line">                alert(&quot;无效链接&quot;);</span><br><span class="line">              &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="利用iframe跨域"><a href="#利用iframe跨域" class="headerlink" title="利用iframe跨域"></a>利用iframe跨域</h3><ul><li>利用windows.name的方式来实现。</li><li>大致原理是在域A中页面A1中动态创建iframe</li><li>然后在A1中的iframe中加载域B中的页面B1</li><li>之后A1中的iframe中再加载A域中任意页面</li><li>继续在A1中读取windows.name。可得B域数据</li><li>关键是要求域B中要有相关代码实现windows.name赋值，也就是说明无法进行任意页面的读取，也只能是同时两个网站具有控制权的时候才可以。</li><li>代码网上自行搜索吧，以下是半成品<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">function domainData(iframe, url, fn)  </span><br><span class="line">&#123;  </span><br><span class="line">    var isFirst = true;  </span><br><span class="line">    //iframe.style.display = &apos;none&apos;;  </span><br><span class="line">    var loadfn = function()&#123;  </span><br><span class="line">        if(isFirst)&#123;  </span><br><span class="line">            //null.html 是同域下的中转代理页面。内容可为空。  </span><br><span class="line">            iframe.contentWindow.location = &apos;t_ifram2.html&apos;;  </span><br><span class="line">            isFirst = false;  </span><br><span class="line">        &#125; else &#123;  </span><br><span class="line">            fn(iframe.contentWindow.name);  </span><br><span class="line">            //使用完毕销毁iframe，保证安全，释放内存  </span><br><span class="line">            iframe.contentWindow.document.write(&apos;&apos;);  </span><br><span class="line">            iframe.contentWindow.close();  </span><br><span class="line">            document.body.removeChild(iframe);  </span><br><span class="line">            iframe.src = &apos;&apos;;  </span><br><span class="line">            iframe = null;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;;  </span><br><span class="line">    iframe.src = url;  </span><br><span class="line">    //alert(url);  </span><br><span class="line">    //给iframe设置onload事件  </span><br><span class="line">    if(iframe.attachEvent)&#123;  </span><br><span class="line">        iframe.attachEvent(&apos;onload&apos;, loadfn);  </span><br><span class="line">    &#125; else &#123;  </span><br><span class="line">        iframe.addEventListener(&apos;load&apos;, loadfn, false);  </span><br><span class="line">        //iframe.onload = loadfn;  </span><br><span class="line">    &#125;  </span><br><span class="line">      </span><br><span class="line">    document.body.appendChild(iframe);  </span><br><span class="line">&#125;  </span><br><span class="line">var ifm = document.getElementById(&quot;IFeditValue&quot;);  </span><br><span class="line">setInterval(function()&#123;  </span><br><span class="line">    var time = (new Date()).getTime();  </span><br><span class="line">    domainData(ifm, &apos;http://www.w3school.com.cn/jsref/met_select_remove.asp&apos;, function(data)&#123;  </span><br><span class="line">        alert(data);  </span><br><span class="line">    &#125;);  </span><br><span class="line">&#125;, 1000);  </span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="失败尝试"><a href="#失败尝试" class="headerlink" title="失败尝试"></a>失败尝试</h3><ul><li>利用提取iframe的dom读取源代码，失败，因为跨域不能读取iframe</li><li>希望向iframe的网址插入script，失败，因为暂没找到动态创建的方法</li></ul><h3 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h3><ul><li><a href="https://blog.csdn.net/freshlover/article/details/40827207" target="_blank" rel="noopener">https://blog.csdn.net/freshlover/article/details/40827207</a></li><li><a href="http://www.runoob.com/json/json-jsonp.html" target="_blank" rel="noopener">http://www.runoob.com/json/json-jsonp.html</a></li><li><a href="https://blog.csdn.net/u011897301/article/details/52679486" target="_blank" rel="noopener">https://blog.csdn.net/u011897301/article/details/52679486</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;javascript数据访问进行跨域数据获取，已知的方法及存在的局限性。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="daybreak" scheme="https://wqian.net/categories/daybreak/"/>
    
    
      <category term="javascript" scheme="https://wqian.net/tags/javascript/"/>
    
      <category term="jsonp" scheme="https://wqian.net/tags/jsonp/"/>
    
      <category term="跨域" scheme="https://wqian.net/tags/%E8%B7%A8%E5%9F%9F/"/>
    
  </entry>
  
  <entry>
    <title>魔法书签</title>
    <link href="https://wqian.net/blog/2018/0517-mfsq-index.html"/>
    <id>https://wqian.net/blog/2018/0517-mfsq-index.html</id>
    <published>2018-05-17T12:55:55.000Z</published>
    <updated>2018-05-31T01:15:29.521Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>有关魔法书签的说明和帮助。</p></blockquote><a id="more"></a><h3 id="魔法书签安装"><a href="#魔法书签安装" class="headerlink" title="魔法书签安装"></a>魔法书签安装</h3><ul><li>位置<a href="https://aqtech.gitee.io/appset/mfsq/pophtml.html" target="_blank" rel="noopener">https://aqtech.gitee.io/appset/mfsq/pophtml.html</a></li><li>魔法书签安装方式：拖动下面链接到书签栏。</li></ul><iframe src="https://aqtech.gitee.io/appset/mfsq/pophtml.html" style="width:600px;height: 40px;border:0px;"></iframe><ul><li>PS:书签栏如不能正常显示，请同时按下”ctrl+shift+b”进行显示<h3 id="功能列表"><a href="#功能列表" class="headerlink" title="功能列表"></a>功能列表</h3></li><li>获取网页地址</li><li>打开百度site</li></ul><h3 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h3><ul><li><a href="http://tools.jb51.net/code/jscompress" target="_blank" rel="noopener">http://tools.jb51.net/code/jscompress</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;有关魔法书签的说明和帮助。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="魔法书签" scheme="https://wqian.net/categories/%E9%AD%94%E6%B3%95%E4%B9%A6%E7%AD%BE/"/>
    
    
      <category term="魔法书签" scheme="https://wqian.net/tags/%E9%AD%94%E6%B3%95%E4%B9%A6%E7%AD%BE/"/>
    
      <category term="mfsq" scheme="https://wqian.net/tags/mfsq/"/>
    
  </entry>
  
  <entry>
    <title>记录有关书签中的几个Javascript函数</title>
    <link href="https://wqian.net/blog/2018/0517-javascript-function-index.html"/>
    <id>https://wqian.net/blog/2018/0517-javascript-function-index.html</id>
    <published>2018-05-17T06:52:00.000Z</published>
    <updated>2018-05-31T01:15:29.521Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>制作魔法书签过程中废弃的几个函数。可能用到其他地方，暂且作为备份。</p></blockquote><a id="more"></a><h3 id="自建get-post函数"><a href="#自建get-post函数" class="headerlink" title="自建get,post函数"></a>自建get,post函数</h3><ul><li>特点不需要加载javascript.</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">//var Resget=doFormRequest(url,&quot;get&quot;,&quot;&#123;&apos;user&apos;:&apos;value2&apos;, &apos;pwd&apos;:&apos;value&apos;&#125;&quot;)</span><br><span class="line">//alert(Resget);</span><br><span class="line">// 自建get,post函数</span><br><span class="line">    /*</span><br><span class="line">    * @url: url link</span><br><span class="line">    * @action: &quot;get&quot;, &quot;post&quot;</span><br><span class="line">    * @json: &#123;&apos;key1&apos;:&apos;value2&apos;, &apos;key2&apos;:&apos;value2&apos;&#125; </span><br><span class="line">    */</span><br><span class="line">    function doFormRequest(url, action, json)</span><br><span class="line">    &#123;</span><br><span class="line">        var form = document.createElement(&quot;form&quot;);</span><br><span class="line">        form.action = url;</span><br><span class="line">        form.method = action;</span><br><span class="line"></span><br><span class="line">        // append input attribute and valus</span><br><span class="line">        for (var key in json)</span><br><span class="line">        &#123;</span><br><span class="line">            if (json.hasOwnProperty(key))</span><br><span class="line">            &#123;</span><br><span class="line">                var val = json[key];</span><br><span class="line">                input = document.createElement(&quot;input&quot;);</span><br><span class="line">                input.type = &quot;hidden&quot;;</span><br><span class="line">                input.name = key;</span><br><span class="line">                input.value = val;</span><br><span class="line"></span><br><span class="line">                // append key-value to form</span><br><span class="line">                form.appendChild(input)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // send post request</span><br><span class="line">        document.body.appendChild(form);</span><br><span class="line">        form.submit();</span><br><span class="line"></span><br><span class="line">        var res=form;</span><br><span class="line">        // remove form from document</span><br><span class="line">        document.body.removeChild(form);</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="得到传递的参数"><a href="#得到传递的参数" class="headerlink" title="得到传递的参数"></a>得到传递的参数</h3><ul><li>只能得到user=pwd，形式的。局限性<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">//获取书签传递过来的参数，用户和密码</span><br><span class="line">//var UserPwd=GetUserPwd();</span><br><span class="line">//var user=UserPwd[0];</span><br><span class="line">//var pwd=UserPwd[1];</span><br><span class="line">//get user and pwd from the src.js?user=pwd</span><br><span class="line"></span><br><span class="line">function GetUserPwd()&#123;</span><br><span class="line">    var js = document.getElementsByTagName(&quot;script&quot;);  </span><br><span class="line">    for (var i = 0; i &lt; js.length; i++) &#123;  </span><br><span class="line">        if (js[i].src.indexOf(&quot;myt.js&quot;) &gt;= 0) &#123;  </span><br><span class="line">             var arraytemp = new Array();  </span><br><span class="line">             arraytemp = js[i].src.split(&apos;?&apos;);  </span><br><span class="line">             arraytemp = arraytemp[1].split(&apos;=&apos;);  </span><br><span class="line">            // alert(arraytemp[0] + &quot;=&quot; + arraytemp[1]);  </span><br><span class="line">             var user=arraytemp[0];</span><br><span class="line">             var pwd=arraytemp[1];</span><br><span class="line">             //alert(user + pwd);     </span><br><span class="line">             return [user,pwd];     </span><br><span class="line">             //return &#123;user:arraytemp[0] pwd:arraytemp[1]&#125;;</span><br><span class="line">             break;</span><br><span class="line">        &#125;  </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="根据是否需要加载jquery"><a href="#根据是否需要加载jquery" class="headerlink" title="根据是否需要加载jquery"></a>根据是否需要加载jquery</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">  //var jqueryjs=&apos;https://cdn.bootcss.com/jquery/3.3.1/jquery.js&apos;;</span><br><span class="line">  //如果已经加载了jqury则不再重新加载</span><br><span class="line">  //NeedLoadJs(jqueryjs);</span><br><span class="line">  // Juge Load Jqury</span><br><span class="line"></span><br><span class="line">  function NeedLoadJs(url)&#123;</span><br><span class="line">      if(typeof(jQuery)==&quot;undefined&quot;)&#123;</span><br><span class="line">          alert(&quot;jQuery is not imported&quot;);</span><br><span class="line">     // document.write(&quot;&lt;script type=&apos;text/javascript&apos; src=&apos;https://cdn.bootcss.com/jquery/3.3.1/jquery.js&apos;&gt;&lt;/script&gt;&quot;);  </span><br><span class="line">     </span><br><span class="line">          //var newscript = document.createElement(&apos;script&apos;);  </span><br><span class="line">          //newscript.setAttribute(&apos;type&apos;,&apos;text/javascript&apos;);  </span><br><span class="line">          //newscript.setAttribute(&apos;src&apos;,&apos;https://cdn.bootcss.com/jquery/3.3.1/jquery.js&apos;);  </span><br><span class="line">          //var head = document.getElementsByTagName(&apos;head&apos;)[0];  </span><br><span class="line">          //head.appendChild(newscript); </span><br><span class="line">           LoadJs(url);</span><br><span class="line"></span><br><span class="line">      &#125;else&#123;</span><br><span class="line">     //alert(&quot;jQuery is imported&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">//Load js</span><br><span class="line">      function LoadJs(url)&#123;</span><br><span class="line">          var newscript = document.createElement(&apos;script&apos;);  </span><br><span class="line">          newscript.setAttribute(&apos;type&apos;,&apos;text/javascript&apos;);  </span><br><span class="line">          newscript.setAttribute(&apos;src&apos;,url);  </span><br><span class="line">          var head = document.getElementsByTagName(&apos;head&apos;)[0];  </span><br><span class="line">          head.appendChild(newscript);  </span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><h3 id="javascript获取网址打开网址"><a href="#javascript获取网址打开网址" class="headerlink" title="javascript获取网址打开网址"></a>javascript获取网址打开网址</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//alert(window.location.href);</span><br><span class="line">//window.open(&quot;tencent://www.jb51.net&quot;);</span><br></pre></td></tr></table></figure><h3 id="javascript获取同域下iframe中网页源代码"><a href="#javascript获取同域下iframe中网页源代码" class="headerlink" title="javascript获取同域下iframe中网页源代码"></a>javascript获取同域下iframe中网页源代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">onerror=handleErr</span><br><span class="line"></span><br><span class="line">var txt=&quot;&quot;</span><br><span class="line"></span><br><span class="line">function handleErr(msg,url,l)</span><br><span class="line">&#123;</span><br><span class="line">txt=&quot;There was an error on this page.\n\n&quot;</span><br><span class="line">txt+=&quot;Error: &quot; + msg + &quot;\n&quot;</span><br><span class="line">txt+=&quot;URL: &quot; + url + &quot;\n&quot;</span><br><span class="line">txt+=&quot;Line: &quot; + l + &quot;\n\n&quot;</span><br><span class="line">txt+=&quot;Click OK to continue.\n\n&quot;</span><br><span class="line">alert(txt)</span><br><span class="line">return true</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> function getIframeContent(frameId)&#123; </span><br><span class="line"> var frameObj = document.getElementById(frameId); </span><br><span class="line"></span><br><span class="line"> alert (&quot;x1&quot;);</span><br><span class="line"></span><br><span class="line"> var frameContent = frameObj.contentWindow.document.urlset.innerHTML; </span><br><span class="line"> alert(&quot;frame content : &quot;+frameContent); </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="远程代码读取"><a href="#远程代码读取" class="headerlink" title="远程代码读取"></a>远程代码读取</h3><ul><li>需要在目标网站设置头部<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt; </span><br><span class="line">&lt;html&gt; </span><br><span class="line">&lt;head&gt; </span><br><span class="line">&lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html; charset=utf-8&quot;&gt; </span><br><span class="line">&lt;title&gt;远程网页源代码读取&lt;/title&gt; </span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt; </span><br><span class="line">/* 页面字体样式 */ </span><br><span class="line">body, td, input, textarea &#123; </span><br><span class="line">font-family:Arial; </span><br><span class="line">font-size:12px; </span><br><span class="line">&#125; </span><br><span class="line">&lt;/style&gt; </span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt; </span><br><span class="line">//用于创建XMLHttpRequest对象 </span><br><span class="line">function createXmlHttp() &#123; </span><br><span class="line">//根据window.XMLHttpRequest对象是否存在使用不同的创建方式 </span><br><span class="line">if (window.XMLHttpRequest) &#123; </span><br><span class="line">xmlHttp = new XMLHttpRequest(); //FireFox、Opera等浏览器支持的创建方式 </span><br><span class="line">&#125; else &#123; </span><br><span class="line">xmlHttp = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);//IE浏览器支持的创建方式 </span><br><span class="line">&#125; </span><br><span class="line">&#125; </span><br><span class="line">//直接通过XMLHttpRequest对象获取远程网页源代码 </span><br><span class="line">function getSource() &#123; </span><br><span class="line">var url = document.getElementById(&quot;url&quot;).value; //获取目标地址信息 </span><br><span class="line">//地址为空时提示用户输入 </span><br><span class="line">if (url == &quot;&quot;) &#123; </span><br><span class="line">alert(&quot;请输入网页地址。&quot;); </span><br><span class="line">return; </span><br><span class="line">&#125; </span><br><span class="line">document.getElementById(&quot;source&quot;).value = &quot;正在加载……&quot;; //提示正在加载 </span><br><span class="line">createXmlHttp(); //创建XMLHttpRequest对象 </span><br><span class="line">xmlHttp.onreadystatechange = writeSource; //设置回调函数 </span><br><span class="line">xmlHttp.open(&quot;GET&quot;, url, true); </span><br><span class="line">xmlHttp.send(null); </span><br><span class="line">&#125; </span><br><span class="line">//www.mp4ku.com将远程网页源代码写入页面文字区域 </span><br><span class="line">function writeSource() &#123; </span><br><span class="line">if (xmlHttp.readyState == 4) &#123; </span><br><span class="line">document.getElementById(&quot;source&quot;).value = xmlHttp.responseText; </span><br><span class="line">&#125; </span><br><span class="line">&#125; </span><br><span class="line">&lt;/script&gt; </span><br><span class="line">&lt;/head&gt; </span><br><span class="line">&lt;body&gt; </span><br><span class="line">&lt;h1&gt;远程网页源代码读取&lt;/h1&gt; </span><br><span class="line">&lt;div&gt; </span><br><span class="line">地址：&lt;input type=&quot;text&quot; id=&quot;url&quot;&gt; </span><br><span class="line">&lt;input type=&quot;button&quot; onclick=&quot;getSource()&quot; value=&quot;获取源码&quot;&gt; </span><br><span class="line">&lt;/div&gt; </span><br><span class="line">&lt;textarea rows=&quot;10&quot; cols=&quot;80&quot; id=&quot;source&quot;&gt;&lt;/textarea&gt; </span><br><span class="line">&lt;/body&gt; </span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="php获取源代码"><a href="#php获取源代码" class="headerlink" title="php获取源代码"></a>php获取源代码</h3><ul><li><p>成功</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ch = curl_init($url);</span><br><span class="line">curl_setopt($ch,CURLOPT_RETURNTRANSFER,true);</span><br><span class="line">curl_setopt($ch,CURLOPT_TIMEOUT,5);</span><br><span class="line">curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);</span><br><span class="line">curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, FALSE);</span><br><span class="line"></span><br><span class="line"> $html = curl_exec($ch);</span><br><span class="line"> if($html !== false)&#123;</span><br><span class="line">     echo $html;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></li><li><p>对SSL证书挑剔(成功率低)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">//$content = file_get_contents(&apos;https://wqian.net/baidusitemap.xml&apos;);</span><br><span class="line">$url = (&apos;https://wqian.net/baidusitemap.xml&apos;); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function getHTTPS($url) &#123;</span><br><span class="line">  $ch = curl_init();</span><br><span class="line">  curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);</span><br><span class="line">  curl_setopt($ch, CURLOPT_HEADER, false);</span><br><span class="line">  curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);</span><br><span class="line">  curl_setopt($ch, CURLOPT_SSLVERSION, 1); </span><br><span class="line">  curl_setopt($ch, CURLOPT_URL, $url);</span><br><span class="line">  curl_setopt($ch, CURLOPT_REFERER, $url);</span><br><span class="line">  curl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE);</span><br><span class="line"></span><br><span class="line">curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 5); </span><br><span class="line">curl_setopt($ch, CURLOPT_POST, 0);  </span><br><span class="line">curl_setopt($ch, CURLOPT_TIMEOUT, 5); </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  $result = curl_exec($ch);</span><br><span class="line">   </span><br><span class="line">   var_dump(curl_error($ch));  //查看报错信息 </span><br><span class="line"></span><br><span class="line">  curl_close($ch);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  return &quot;reslt&lt;br&gt;&quot;. $result;</span><br><span class="line">&#125;</span><br><span class="line">$data=getHTTPS(&quot;https://wqian.net/baidusitemap.xml&quot;);</span><br><span class="line"></span><br><span class="line">echo $data; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//echo $content;</span><br><span class="line"></span><br><span class="line">//preg_match_all(&apos;/&lt;loc&gt;(.*?)&lt;\/loc&gt;/&apos;, $content, $out, PREG_PATTERN_ORDER);</span><br><span class="line">//var_dump($out);</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="循环检测条件满足后停止"><a href="#循环检测条件满足后停止" class="headerlink" title="循环检测条件满足后停止"></a>循环检测条件满足后停止</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//定时检测加载完毕后调用</span><br><span class="line"> var InterId=setInterval(function()&#123;</span><br><span class="line">        // alert(&quot;每秒钟都会执行&quot;);</span><br><span class="line">        //按需停止</span><br><span class="line">        clearInterval(InterId);</span><br><span class="line">      </span><br><span class="line">  &#125;,20);</span><br></pre></td></tr></table></figure><h3 id="得到地址中的文件名称-ss-xetn-jxs-js可得到jxs"><a href="#得到地址中的文件名称-ss-xetn-jxs-js可得到jxs" class="headerlink" title="得到地址中的文件名称/ss/xetn/jxs.js可得到jxs"></a>得到地址中的文件名称/ss/xetn/jxs.js可得到jxs</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//得到地址中文件名称    </span><br><span class="line">    function getUrlFileName(url) &#123;</span><br><span class="line">        var str = url;</span><br><span class="line">        str = str.substring(str.lastIndexOf(&quot;/&quot;) + 1);</span><br><span class="line">        str = str.substring(0, str.lastIndexOf(&quot;.&quot;));</span><br><span class="line">        return str;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="根据xpath获取dom元素"><a href="#根据xpath获取dom元素" class="headerlink" title="根据xpath获取dom元素"></a>根据xpath获取dom元素</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function _x(STR_XPATH) &#123;</span><br><span class="line">    var xresult = document.evaluate(STR_XPATH, document, null, XPathResult.ANY_TYPE, null);</span><br><span class="line">    var xnodes = [];</span><br><span class="line">    var xres;</span><br><span class="line">    while (xres = xresult.iterateNext()) &#123;</span><br><span class="line">        xnodes.push(xres);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return xnodes;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var xs=_x(&apos;//*[@id=&quot;root&quot;]/div/div[2]/div[1]/div/div/div/div[1]/span&apos;);</span><br><span class="line">alert(xs[0].innerHTML);</span><br></pre></td></tr></table></figure><h3 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h3><ul><li><a href="http://www.cnblogs.com/fishtreeyu/archive/2011/02/27/1966178.html" target="_blank" rel="noopener">http://www.cnblogs.com/fishtreeyu/archive/2011/02/27/1966178.html</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;制作魔法书签过程中废弃的几个函数。可能用到其他地方，暂且作为备份。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="魔法书签" scheme="https://wqian.net/categories/%E9%AD%94%E6%B3%95%E4%B9%A6%E7%AD%BE/"/>
    
    
      <category term="javascript" scheme="https://wqian.net/tags/javascript/"/>
    
      <category term="mfsq" scheme="https://wqian.net/tags/mfsq/"/>
    
  </entry>
  
  <entry>
    <title>迷失</title>
    <link href="https://wqian.net/blog/2018/0516-index-lost.html"/>
    <id>https://wqian.net/blog/2018/0516-index-lost.html</id>
    <published>2018-05-16T13:29:38.000Z</published>
    <updated>2018-05-31T01:15:29.521Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>似乎自己已经迷失。要找回自己。</p></blockquote><a id="more"></a><p>似乎自己已经迷失了方向<br>似乎已经忘记了自己的身份<br>有必要思考一下自己的使命<br>我来自哪里？<br>我要的什么？<br>我的目的是什么？<br>我还是不是自己？<br>提勉<br>知而不行，谓之空<br>行而不知，谓之莽<br>正所谓知行合一，方可天人合一</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;似乎自己已经迷失。要找回自己。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="daybreak" scheme="https://wqian.net/categories/daybreak/"/>
    
    
      <category term="diary" scheme="https://wqian.net/tags/diary/"/>
    
  </entry>
  
  <entry>
    <title>阿里云虚拟主机配置https访问及阿里云虚拟主机CDN设置</title>
    <link href="https://wqian.net/blog/2018/0516-aliyun-https.html"/>
    <id>https://wqian.net/blog/2018/0516-aliyun-https.html</id>
    <published>2018-05-16T01:51:56.000Z</published>
    <updated>2018-05-31T01:15:29.521Z</updated>
    
    <content type="html"><![CDATA[<!-- Hexo daybreak git vb.net 健康 博客设置 网络日志 软件列表 魔法书签 --><!--![图]() --><!--[]() --><blockquote><p>配置阿里云虚拟主机http访问，包括ssl证书申请。<em>阿里https申请证书是免费的，但是配置CDN是收费的，并且除了配置他的CDN方式进行https登录外，没有其他方法，如果想吃免费午餐的同学，请略过吧，作者也是进入了坑之后，才来补上这个说明的（PS:2018.5.22）</em>。</p></blockquote><a id="more"></a><h3 id="阿里云免费ssl证书申请"><a href="#阿里云免费ssl证书申请" class="headerlink" title="阿里云免费ssl证书申请"></a>阿里云免费ssl证书申请</h3><ul><li>登录阿里云后台管理&lt;&gt;</li><li>左侧菜单，管理控制台-安全（云盾）-CA证书服务</li><li>根据自己的域名申请，购买0元免费版本</li><li>补全信息</li><li>等待申请通过结束</li></ul><h3 id="配置CDN"><a href="#配置CDN" class="headerlink" title="配置CDN"></a>配置CDN</h3><ul><li>登录阿里云后台管理&lt;&gt;</li><li>左侧菜单，管理控制台-云计算基础服务-CDN</li><li>菜单域名管理-添加域名</li><li>图片小文件-ip-主机ip-80端口-http到https</li><li><em>这个是要收费的，按流量收费，阿里虚拟主机cdn是按照流量收费的</em></li></ul><h3 id="配置域名解析"><a href="#配置域名解析" class="headerlink" title="配置域名解析"></a>配置域名解析</h3><ul><li>CANME到指定位置</li></ul><h3 id="等待解析成功访问"><a href="#等待解析成功访问" class="headerlink" title="等待解析成功访问"></a>等待解析成功访问</h3><h3 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h3><p>-<a href="https://blog.csdn.net/chwshuang/article/details/52443274" target="_blank" rel="noopener">https://blog.csdn.net/chwshuang/article/details/52443274</a></p>]]></content>
    
    <summary type="html">
    
      &lt;!-- Hexo daybreak git vb.net 健康 博客设置 网络日志 软件列表 魔法书签 --&gt;
&lt;!--![图]() --&gt;
&lt;!--[]() --&gt;
&lt;blockquote&gt;
&lt;p&gt;配置阿里云虚拟主机http访问，包括ssl证书申请。&lt;em&gt;阿里https申请证书是免费的，但是配置CDN是收费的，并且除了配置他的CDN方式进行https登录外，没有其他方法，如果想吃免费午餐的同学，请略过吧，作者也是进入了坑之后，才来补上这个说明的（PS:2018.5.22）&lt;/em&gt;。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="网络日志" scheme="https://wqian.net/categories/%E7%BD%91%E7%BB%9C%E6%97%A5%E5%BF%97/"/>
    
    
      <category term="阿里云虚拟主机" scheme="https://wqian.net/tags/%E9%98%BF%E9%87%8C%E4%BA%91%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA/"/>
    
      <category term="https" scheme="https://wqian.net/tags/https/"/>
    
  </entry>
  
  <entry>
    <title>利用javascript的jsonp推送静态站点的网址到php服务器进行百度网址推送</title>
    <link href="https://wqian.net/blog/2018/0515-javascript-jsonp-php-baidu.html"/>
    <id>https://wqian.net/blog/2018/0515-javascript-jsonp-php-baidu.html</id>
    <published>2018-05-15T15:48:51.000Z</published>
    <updated>2018-05-31T01:15:29.521Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>实现将静态网站的网址采集后推送到php服务器，进行百度站长网址推送。</p></blockquote><a id="more"></a><h3 id="功能导航文件"><a href="#功能导航文件" class="headerlink" title="功能导航文件"></a>功能导航文件</h3><ul><li>bdp.html<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;/&gt;</span><br><span class="line">&lt;title&gt;duo&lt;/title&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    function Dobdp()&#123;</span><br><span class="line"></span><br><span class="line">        var getc=document.getElementById(&quot;getc&quot;).value;</span><br><span class="line">        var getn=document.getElementById(&quot;getn&quot;).value;</span><br><span class="line">        var tj=document.getElementById(&quot;tj&quot;).value;</span><br><span class="line">        //alert(getn);</span><br><span class="line">        window.open(&apos;https://wqian.net/jsgetxml2.html?c=&apos;+getc+&apos;&amp;n=&apos;+ getn+&apos;&amp;tj=&apos;+ tj +&apos;&apos;,&apos;iframe_a&apos;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">模式：&lt;input id=getc value=xct width=&quot;200&quot;&gt; 范围：&lt;input id=getn value=-1 width=&quot;200&quot;&gt; 是否提交：&lt;input id=tj value=0 width=&quot;200&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;&lt;button onclick=&quot;Dobdp()&quot;&gt;点击即可进行查看&lt;/button&gt;&lt;/p&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;iframe src=&quot;https://wqian.net&quot; name=&quot;iframe_a&quot; width=100% height=&quot;500&quot;&gt;&lt;/iframe&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="静态网站内部文件"><a href="#静态网站内部文件" class="headerlink" title="静态网站内部文件"></a>静态网站内部文件</h3><ul><li>jsgetxmls代码<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: false</span><br><span class="line">---</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;/&gt;</span><br><span class="line">&lt;script src=&quot;https://cdn.bootcss.com/jquery/1.11.1/jquery.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">function getdate(url)&#123;</span><br><span class="line">   htmlobj=$.ajax(&#123;url:url,async:false&#125;);</span><br><span class="line">   return htmlobj.responseText;</span><br><span class="line">&#125;</span><br><span class="line">// 自建get,post函数</span><br><span class="line">    /*</span><br><span class="line">    * @url: url link</span><br><span class="line">    * @action: &quot;get&quot;, &quot;post&quot;</span><br><span class="line">    * @json: &#123;&apos;key1&apos;:&apos;value2&apos;, &apos;key2&apos;:&apos;value2&apos;&#125; </span><br><span class="line">    */</span><br><span class="line">    function doFormRequest(url, action, json)</span><br><span class="line">    &#123;</span><br><span class="line">        var form = document.createElement(&quot;form&quot;);</span><br><span class="line">        form.action = url;</span><br><span class="line">        form.method = action;</span><br><span class="line"></span><br><span class="line">        // append input attribute and valus</span><br><span class="line">        for (var key in json)</span><br><span class="line">        &#123;</span><br><span class="line">            if (json.hasOwnProperty(key))</span><br><span class="line">            &#123;</span><br><span class="line">                var val = json[key];</span><br><span class="line">                input = document.createElement(&quot;input&quot;);</span><br><span class="line">                input.type = &quot;hidden&quot;;</span><br><span class="line">                input.name = key;</span><br><span class="line">                input.value = val;</span><br><span class="line"></span><br><span class="line">                // append key-value to form</span><br><span class="line">                form.appendChild(input)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // send post request</span><br><span class="line">        document.body.appendChild(form);</span><br><span class="line">        form.submit();</span><br><span class="line"></span><br><span class="line">        var res=form;</span><br><span class="line">        // remove form from document</span><br><span class="line">        document.body.removeChild(form);</span><br><span class="line"></span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">     //get user and pwd from the src.js?user=pwd</span><br><span class="line"></span><br><span class="line">    function getQueryString(name) &#123; </span><br><span class="line">        var reg = new RegExp(&quot;(^|&amp;)&quot; + name + &quot;=([^&amp;]*)(&amp;|$)&quot;, &quot;i&quot;); </span><br><span class="line">        //alert(window.location.search.substr(1));</span><br><span class="line">        var r = window.location.search.substr(1).match(reg); </span><br><span class="line">        if (r != null) return unescape(r[2]); return null; </span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;textarea id=xml&gt;&lt;/textarea&gt;</span><br><span class="line">&lt;textarea id=cat&gt;&lt;/textarea&gt;</span><br><span class="line">&lt;textarea id=tag&gt;&lt;/textarea&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">var datxml=getdate(&apos;baidusitemap.xml&apos;);</span><br><span class="line">var datcat=getdate(&apos;../categories/index.html&apos;);</span><br><span class="line">var dattag=getdate(&apos;../tags/index.html&apos;);</span><br><span class="line"></span><br><span class="line">document.getElementById(&quot;xml&quot;).value=datxml;</span><br><span class="line">document.getElementById(&quot;cat&quot;).value=datcat;</span><br><span class="line">document.getElementById(&quot;tag&quot;).value=dattag;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var getn=getQueryString(&apos;n&apos;);</span><br><span class="line">var getc=getQueryString(&apos;c&apos;);</span><br><span class="line">var tj=getQueryString(&apos;tj&apos;);</span><br><span class="line"></span><br><span class="line">var posturl=&apos;http://u26.site/dbp2.php?c=&apos;+ getc + &apos;&amp;n=&apos; + getn + &apos;&amp;tj=&apos; + tj +&apos;&amp;x=&apos;+ Math.random();</span><br><span class="line">json=&#123;&apos;datxml&apos;:datxml,&apos;datcat&apos;:datcat,&apos;dattag&apos;:dattag&#125;;</span><br><span class="line"></span><br><span class="line">var res=doFormRequest(posturl, &apos;post&apos;, json)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="php服务器端文件"><a href="#php服务器端文件" class="headerlink" title="php服务器端文件"></a>php服务器端文件</h3><ul><li>dbp2.php<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;/&gt;</span><br><span class="line">&lt;title&gt;php&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$getc= $_GET[&quot;c&quot;];</span><br><span class="line">$getn= 10*intval($_GET[&quot;n&quot;]);</span><br><span class="line">$tj= intval($_GET[&quot;tj&quot;]);</span><br><span class="line"></span><br><span class="line">$datxml=&quot;&quot;;</span><br><span class="line">$datcat=&quot;&quot;;</span><br><span class="line">$dattag=&quot;&quot;;</span><br><span class="line"></span><br><span class="line">if(strpos($getc,&apos;x&apos;) !==false)&#123;</span><br><span class="line"> $datxml= $_POST[&quot;datxml&quot;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if(strpos($getc,&apos;c&apos;) !==false)&#123;</span><br><span class="line"> $datcat= $_POST[&quot;datcat&quot;];</span><br><span class="line">&#125;</span><br><span class="line">if(strpos($getc,&apos;t&apos;) !==false)&#123;</span><br><span class="line"> $dattag= $_POST[&quot;dattag&quot;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if ($datxml==&quot;&quot; &amp;&amp; $datcat==&quot;&quot; &amp;&amp; $dattag==&quot;&quot;)&#123;</span><br><span class="line">    $datxml= $_POST[&quot;datxml&quot;];</span><br><span class="line">    $datcat= $_POST[&quot;datcat&quot;];</span><br><span class="line">    $dattag= $_POST[&quot;dattag&quot;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$reg1=&apos;/&lt;loc&gt;(.*?)&lt;\/loc&gt;/&apos;;</span><br><span class="line">preg_match_all($reg1,$datxml,$mat1); </span><br><span class="line">//print_r($mat1[1]);</span><br><span class="line"></span><br><span class="line">//print_r(&quot;&lt;textarea&gt;&quot; . $datxml . &quot;&lt;/textarea&gt;&quot;);</span><br><span class="line">//print_r(&quot;&lt;textarea&gt;&quot; . $datcat . &quot;&lt;/textarea&gt;&quot;);</span><br><span class="line">//print_r(&quot;&lt;textarea&gt;&quot; . $dattag . &quot;&lt;/textarea&gt;&quot;);</span><br><span class="line"></span><br><span class="line">$reg2=&apos;/href\s*=\s*(?:&quot;([^&quot;]*)&quot;|\&apos;([^\&apos;]*)\&apos;|([^&quot;\&apos;&gt;\s]+))/is&apos;;</span><br><span class="line"></span><br><span class="line">preg_match_all($reg2,$datcat . $dattag,$mat2); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">for($i=0;$i&lt;count($mat2[1]);$i++)//逐个输出超链接地址</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">  $mat2[1][$i]=&quot;https://wqian.net&quot; . $mat2[1][$i] . &quot;index.html&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//print_r($mat2[1]);</span><br><span class="line"></span><br><span class="line">$mat=array_merge($mat1[1],$mat2[1]);</span><br><span class="line">$matt=array();</span><br><span class="line">$j=0;</span><br><span class="line"></span><br><span class="line">//如果为0则取全部</span><br><span class="line">$getnT=0;</span><br><span class="line"></span><br><span class="line">if ($getn&gt;=0)</span><br><span class="line">&#123;</span><br><span class="line">    for($i=$getn;$i&lt;count($mat);$i++)//逐个输出超链接地址</span><br><span class="line">    &#123;</span><br><span class="line">      $matt[$j]=$mat[$i];   </span><br><span class="line">      $j++;</span><br><span class="line">      $getnT=$i;</span><br><span class="line"></span><br><span class="line">      if($j&gt;9)&#123;</span><br><span class="line">        break;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    $matt=$mat;</span><br><span class="line">    $getnT=count($mat);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(&apos;模式：&apos; . $getc . &apos; 范围：&apos;. count($mat) . &apos;:(&apos; . $getn .&apos;-&apos; . $getnT . &apos;)&lt;br&gt;&apos;);</span><br><span class="line">print_r(&quot;&lt;textarea style=&apos;width:1000px;height:300px&apos;&gt;&quot;);</span><br><span class="line">print_r($matt);</span><br><span class="line">print_r(&quot;&lt;/textarea&gt;&quot;);</span><br><span class="line"></span><br><span class="line">//echo &quot;&lt;script&gt;alert(&quot;. $tj .&quot;);&lt;/script&gt;&quot;;</span><br><span class="line">//echo &quot;&lt;script&gt;alert(&quot;. count($matt) .&quot;);&lt;/script&gt;&quot;;</span><br><span class="line"></span><br><span class="line">if ($tj&gt;0 &amp;&amp; count($matt)&lt;11 &amp;&amp; count($mat)&gt;0)&#123;</span><br><span class="line"></span><br><span class="line">echo(&quot;&lt;br&gt;百度熊掌提交结果：&lt;br&gt;&quot;);</span><br><span class="line">echo(bdXZpost($matt));</span><br><span class="line">echo(&quot;&lt;br&gt;百度站长提交结果：&lt;br&gt;&quot;);</span><br><span class="line">echo(bdZZpost($matt));</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    echo(&quot;&lt;p&gt;没有提交&lt;p&gt;&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//熊掌提交</span><br><span class="line">function bdXZpost($urls) &#123;</span><br><span class="line">$api = &apos;http://data.zz.baidu.com/urls?appid=1598180106327679&amp;token=jy3FBOUkbY8fLr14&amp;type=batch&apos;;</span><br><span class="line">$ch = curl_init();</span><br><span class="line">$options =  array(</span><br><span class="line">    CURLOPT_URL =&gt; $api,</span><br><span class="line">    CURLOPT_POST =&gt; true,</span><br><span class="line">    CURLOPT_RETURNTRANSFER =&gt; true,</span><br><span class="line">    CURLOPT_POSTFIELDS =&gt; implode(&quot;\n&quot;, $urls),</span><br><span class="line">    CURLOPT_HTTPHEADER =&gt; array(&apos;Content-Type: text/plain&apos;),</span><br><span class="line">);</span><br><span class="line">curl_setopt_array($ch, $options);</span><br><span class="line">$result = curl_exec($ch);</span><br><span class="line">return $result;</span><br><span class="line">&#125;</span><br><span class="line">//站长提交</span><br><span class="line">function bdZZpost($urls) &#123;</span><br><span class="line">$api = &apos;http://data.zz.baidu.com/urls?site=https://wqian.net&amp;token=s0qosKUimcSz3p38&apos;;</span><br><span class="line">$ch = curl_init();</span><br><span class="line">$options =  array(</span><br><span class="line">    CURLOPT_URL =&gt; $api,</span><br><span class="line">    CURLOPT_POST =&gt; true,</span><br><span class="line">    CURLOPT_RETURNTRANSFER =&gt; true,</span><br><span class="line">    CURLOPT_POSTFIELDS =&gt; implode(&quot;\n&quot;, $urls),</span><br><span class="line">    CURLOPT_HTTPHEADER =&gt; array(&apos;Content-Type: text/plain&apos;),</span><br><span class="line">);</span><br><span class="line">curl_setopt_array($ch, $options);</span><br><span class="line">$result = curl_exec($ch);</span><br><span class="line">return $result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;实现将静态网站的网址采集后推送到php服务器，进行百度站长网址推送。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="daybreak" scheme="https://wqian.net/categories/daybreak/"/>
    
    
      <category term="javascript" scheme="https://wqian.net/tags/javascript/"/>
    
      <category term="baidumap" scheme="https://wqian.net/tags/baidumap/"/>
    
  </entry>
  
  <entry>
    <title>更新生成sitemap和百度sitemap</title>
    <link href="https://wqian.net/blog/2018/0514-index.html"/>
    <id>https://wqian.net/blog/2018/0514-index.html</id>
    <published>2018-05-14T13:37:28.000Z</published>
    <updated>2018-05-31T01:15:29.521Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>创建生成网站地图,生成百度专用的地图。</p></blockquote><a id="more"></a><h3 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure><h3 id="配置-config-yml"><a href="#配置-config-yml" class="headerlink" title="配置_config.yml"></a>配置_config.yml</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 自动生成sitemap</span><br><span class="line">sitemap:</span><br><span class="line">  path: sitemap.xml</span><br><span class="line">baidusitemap:</span><br><span class="line">  path: baidusitemap.xml</span><br></pre></td></tr></table></figure><h3 id="生成预览"><a href="#生成预览" class="headerlink" title="生成预览"></a>生成预览</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><ul><li><a href="http://localhost:4000/sitemap.xml" target="_blank" rel="noopener">http://localhost:4000/sitemap.xml</a></li><li><a href="http://localhost:4000/baidusitemap.xml" target="_blank" rel="noopener">http://localhost:4000/baidusitemap.xml</a></li></ul><h3 id="创建robots-txt"><a href="#创建robots-txt" class="headerlink" title="创建robots.txt"></a>创建robots.txt</h3><ul><li>在 source/uploads/中创建robots.txt<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">User-agent: * </span><br><span class="line">Allow: /</span><br></pre></td></tr></table></figure></li></ul><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul><li><a href="https://www.npmjs.com/package/hexo-generator-sitemap" target="_blank" rel="noopener">https://www.npmjs.com/package/hexo-generator-sitemap</a></li><li><a href="https://ziyuan.baidu.com/college/courseinfo?id=267&amp;page=12#h2_article_title29" target="_blank" rel="noopener">https://ziyuan.baidu.com/college/courseinfo?id=267&amp;page=12#h2_article_title29</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;创建生成网站地图,生成百度专用的地图。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="daybreak" scheme="https://wqian.net/categories/daybreak/"/>
    
    
      <category term="hexo" scheme="https://wqian.net/tags/hexo/"/>
    
      <category term="sitemap" scheme="https://wqian.net/tags/sitemap/"/>
    
  </entry>
  
  <entry>
    <title>利用可以在iframe中嵌入网页进行重定向</title>
    <link href="https://wqian.net/blog/2018/0513-iframe-redirect-webpage.html"/>
    <id>https://wqian.net/blog/2018/0513-iframe-redirect-webpage.html</id>
    <published>2018-05-13T11:32:27.000Z</published>
    <updated>2018-05-31T01:15:29.521Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>无论怎样，我遇到了，某个模板只允许嵌入ifram框架，但是我又不怎么喜欢这样的模板，想进行重定向，方法让我找到了，可能方法不止一种，虽然我这种方法不是最完备的，但是，我确实是可以实现的。为遇到此种情况的朋友提供一点提示吧。</p></blockquote><a id="more"></a><h3 id="大致原理"><a href="#大致原理" class="headerlink" title="大致原理"></a>大致原理</h3><ul><li>在许可的范围内创建iframe标签</li><li>ifram引入网页文件dm_drt.php?dm=x</li><li>在dm_drt.php中引入相关的函数，数组，运算等函数文件。</li><li>在dm_drt.php中构建重定向代码，可以根据dm进行运算并重定向。</li></ul><h3 id="iframe标签创建"><a href="#iframe标签创建" class="headerlink" title="iframe标签创建"></a>iframe标签创建</h3><ul><li>代码构建标准格式，例码如下<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe src =&quot;http://u26.cn/dm_drt.php?dm=xz2sc.cc&quot; frameborder=&quot;0&quot; marginheight=&quot;0&quot; marginwidth=&quot;0&quot; frameborder=&quot;0&quot; scrolling=&quot;auto&quot; id=&quot;ifm&quot; name=&quot;ifm&quot;  width=&quot;100%&quot;&gt; </span><br><span class="line">&lt;/iframe&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="重定向文件创建"><a href="#重定向文件创建" class="headerlink" title="重定向文件创建"></a>重定向文件创建</h3><ul><li>重定向文件dm_drt.php代码<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Yes You Do&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;?php </span><br><span class="line">     require(&quot;./dm_dmlist.php&quot;); </span><br><span class="line">    $redi=0;</span><br><span class="line">    $dm = isset($_GET[&apos;dm&apos;])? htmlspecialchars($_GET[&apos;dm&apos;]) : &apos;&apos;;</span><br><span class="line">    </span><br><span class="line">        </span><br><span class="line">        //echo($dm.&apos;jx&lt;br&gt;&apos;);</span><br><span class="line">        //echo($myDm[$dm].&apos;&lt;br&gt;&apos;);</span><br><span class="line">    </span><br><span class="line">    if (array_key_exists($dm,$myDm))&#123;</span><br><span class="line">        //echo (&apos;yes&apos;.&apos;&lt;br&gt;&apos;);</span><br><span class="line">        //echo($dm.&apos;&lt;br&gt;&apos;);</span><br><span class="line">        //echo($myDm[$dm].&apos;&lt;br&gt;&apos;);</span><br><span class="line">        $tURL=$myDm[$dm];</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        //echo(&apos;sorry&apos;);</span><br><span class="line">        $tURL=$myDm[&quot;Sorry&quot;];</span><br><span class="line">        //echo($tURL);</span><br><span class="line">    &#125;   </span><br><span class="line">    </span><br><span class="line">?&gt;</span><br><span class="line">    &lt;!--重定向--&gt;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&lt;div&gt;&lt;a href=&quot;&lt;?php echo($tURL) ?&gt;&quot; target=&quot;_top&quot;&gt;&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">&lt;?php if ($redi==1) </span><br><span class="line">&#123;</span><br><span class="line">        ?&gt;</span><br><span class="line">&lt;script src=&quot;https://cdn.bootcss.com/jquery/3.2.1/jquery.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">jQuery(function($) &#123;</span><br><span class="line">  $(&quot;a&quot;)[0].click();</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php &#125;?&gt;</span><br><span class="line">&lt;?php require(&quot;./dm_foot.php&quot;); ?&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="相关文件-重定向路径运算"><a href="#相关文件-重定向路径运算" class="headerlink" title="相关文件-重定向路径运算"></a>相关文件-重定向路径运算</h3><ul><li>重定向运算代码dm_dmlist.php<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$myDm[&quot;host&quot;]=&quot;http://u26.cn/&quot;;</span><br><span class="line">$myDm[&quot;Sorry&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=Sorry&quot;;</span><br><span class="line">$myDm[&quot;cumt.net.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=cumt.net.cn&quot;;</span><br><span class="line">$myDm[&quot;sxkw.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=sxkw.cn&quot;;</span><br><span class="line">$myDm[&quot;utibet.com.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=utibet.com.cn&quot;;</span><br><span class="line">$myDm[&quot;tijmu.com.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=tijmu.com.cn&quot;;</span><br><span class="line">$myDm[&quot;sicau.com.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=sicau.com.cn&quot;;</span><br><span class="line">$myDm[&quot;hrbeu.com.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=hrbeu.com.cn&quot;;</span><br><span class="line">$myDm[&quot;tjutcm.com.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=tjutcm.com.cn&quot;;</span><br><span class="line">$myDm[&quot;shutcm.com.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=shutcm.com.cn&quot;;</span><br><span class="line">$myDm[&quot;ljzo.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=ljzo.cn&quot;;</span><br><span class="line">$myDm[&quot;fwme.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=fwme.cn&quot;;</span><br><span class="line">$myDm[&quot;songduoduo.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=songduoduo.cn&quot;;</span><br><span class="line">$myDm[&quot;nuandd.com&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=nuandd.com&quot;;</span><br><span class="line">$myDm[&quot;piandd.com&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=piandd.com&quot;;</span><br><span class="line">$myDm[&quot;tuandd.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=tuandd.cn&quot;;</span><br><span class="line">$myDm[&quot;nanduoduo.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=nanduoduo.cn&quot;;</span><br><span class="line">$myDm[&quot;shuanduoduo.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=shuanduoduo.cn&quot;;</span><br><span class="line">$myDm[&quot;cuduoduo.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=cuduoduo.cn&quot;;</span><br><span class="line">$myDm[&quot;gunduoduo.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=gunduoduo.cn&quot;;</span><br><span class="line">$myDm[&quot;nvduoduo.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=nvduoduo.cn&quot;;</span><br><span class="line">$myDm[&quot;hljyr.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=hljyr.cn&quot;;</span><br><span class="line">$myDm[&quot;hljdh.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=hljdh.cn&quot;;</span><br><span class="line">$myDm[&quot;hljyk.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=hljyk.cn&quot;;</span><br><span class="line">$myDm[&quot;oo4.com.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=oo4.com.cn&quot;;</span><br><span class="line">$myDm[&quot;gg0.com.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=gg0.com.cn&quot;;</span><br><span class="line">$myDm[&quot;0tt.com.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=0tt.com.cn&quot;;</span><br><span class="line">$myDm[&quot;0uu.com.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=0uu.com.cn&quot;;</span><br><span class="line">$myDm[&quot;0ii.com.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=0ii.com.cn&quot;;</span><br><span class="line">$myDm[&quot;g84.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=g84.cn&quot;;</span><br><span class="line">$myDm[&quot;b47.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=b47.cn&quot;;</span><br><span class="line">$myDm[&quot;h46.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=h46.cn&quot;;</span><br><span class="line">$myDm[&quot;b74.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=b74.cn&quot;;</span><br><span class="line">$myDm[&quot;fxche.com&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=fxche.com&quot;;</span><br><span class="line">$myDm[&quot;gking.net&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=gking.net&quot;;</span><br><span class="line">$myDm[&quot;0m2.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=0m2.cn&quot;;</span><br><span class="line">//$myDm[&quot;u26.site&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=u26.site&quot;;</span><br><span class="line">//$myDm[&quot;u26.top&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=u26.top&quot;;</span><br><span class="line">//$myDm[&quot;jarey.wang&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=jarey.wang&quot;;</span><br><span class="line">//$myDm[&quot;jarbo.wang&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=jarbo.wang&quot;;</span><br><span class="line">$myDm[&quot;gzhtcm.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=gzhtcm.cc&quot;;</span><br><span class="line">$myDm[&quot;shutcm.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=shutcm.cc&quot;;</span><br><span class="line">$myDm[&quot;njutcm.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=njutcm.cc&quot;;</span><br><span class="line">$myDm[&quot;njupt.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=njupt.cc&quot;;</span><br><span class="line">$myDm[&quot;shcmusic.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=shcmusic.cc&quot;;</span><br><span class="line">$myDm[&quot;cdutcm.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=cdutcm.cc&quot;;</span><br><span class="line">$myDm[&quot;tjutcm.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=tjutcm.cc&quot;;</span><br><span class="line">$myDm[&quot;cppsu.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=cppsu.cc&quot;;</span><br><span class="line">$myDm[&quot;gucas.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=gucas.cc&quot;;</span><br><span class="line">$myDm[&quot;nwsuaf.xyz&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=nwsuaf.xyz&quot;;</span><br><span class="line">$myDm[&quot;nankai.info&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=nankai.info&quot;;</span><br><span class="line">$myDm[&quot;nudt.info&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=nudt.info&quot;;</span><br><span class="line">$myDm[&quot;nwsuaf.info&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=nwsuaf.info&quot;;</span><br><span class="line">$myDm[&quot;6tt.org&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=6tt.org&quot;;</span><br><span class="line">$myDm[&quot;istic.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=istic.cc&quot;;</span><br><span class="line">$myDm[&quot;tijmu.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=tijmu.cc&quot;;</span><br><span class="line">$myDm[&quot;shufe.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=shufe.cc&quot;;</span><br><span class="line">$myDm[&quot;shsmu.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=shsmu.cc&quot;;</span><br><span class="line">$myDm[&quot;utibet.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=utibet.cc&quot;;</span><br><span class="line">$myDm[&quot;njust.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=njust.cc&quot;;</span><br><span class="line">$myDm[&quot;cdstm.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=cdstm.cc&quot;;</span><br><span class="line">$myDm[&quot;cugb.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=cugb.cc&quot;;</span><br><span class="line">$myDm[&quot;swjtu.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=swjtu.cc&quot;;</span><br><span class="line">$myDm[&quot;nwsuaf.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=nwsuaf.cc&quot;;</span><br><span class="line">$myDm[&quot;ab2sc.xyz&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=ab2sc.xyz&quot;;</span><br><span class="line">$myDm[&quot;gh2sc.com&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=gh2sc.com&quot;;</span><br><span class="line">$myDm[&quot;ab2sc.com&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=ab2sc.com&quot;;</span><br><span class="line">$myDm[&quot;gh2sc.xyz&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=gh2sc.xyz&quot;;</span><br><span class="line">$myDm[&quot;da2sc.com&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=da2sc.com&quot;;</span><br><span class="line">$myDm[&quot;da2sc.xyz&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=da2sc.xyz&quot;;</span><br><span class="line">$myDm[&quot;tj2sc.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=tj2sc.cc&quot;;</span><br><span class="line">$myDm[&quot;sh2sc.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=sh2sc.cc&quot;;</span><br><span class="line">$myDm[&quot;xa2sc.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=xa2sc.cc&quot;;</span><br><span class="line">$myDm[&quot;xz2sc.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=xz2sc.cc&quot;;</span><br><span class="line">$myDm[&quot;tgot.net&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=tgot.net&quot;;</span><br><span class="line">$myDm[&quot;wqian.net&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=wqian.net&quot;;</span><br><span class="line">$myDm[&quot;emtv.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=emtv.cc&quot;;</span><br><span class="line">$myDm[&quot;jmtv.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=jmtv.cc&quot;;</span><br><span class="line">$myDm[&quot;7kk.org&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=7kk.org&quot;;</span><br><span class="line">$myDm[&quot;hking.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=hking.cc&quot;;</span><br><span class="line">$myDm[&quot;bking.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=bking.cc&quot;;</span><br><span class="line">$myDm[&quot;pking.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=pking.cc&quot;;</span><br><span class="line">$myDm[&quot;l06.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=l06.cc&quot;;</span><br><span class="line">$myDm[&quot;l07.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=l07.cc&quot;;</span><br><span class="line">$myDm[&quot;l05.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=l05.cc&quot;;</span><br><span class="line">//$myDm[&quot;u26.cn&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=u26.cn&quot;;</span><br><span class="line">$myDm[&quot;l05.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=l05.cc&quot;;</span><br><span class="line">$myDm[&quot;l05.cc&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=l05.cc&quot;;</span><br><span class="line">$myDm[&quot;b4.gs&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=b4.gs&quot;;</span><br><span class="line">$myDm[&quot;u8.gs&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=u8.gs&quot;;</span><br><span class="line">$myDm[&quot;u26.win&quot;]=$myDm[&quot;host&quot;].&quot;dm_ds.php?dm=u26.win&quot;;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="相关文件-显示页面例子"><a href="#相关文件-显示页面例子" class="headerlink" title="相关文件-显示页面例子"></a>相关文件-显示页面例子</h3><ul><li>显示页面例子dm_ds.php?dm=x<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php $dm = isset($_GET[&apos;dm&apos;])? htmlspecialchars($_GET[&apos;dm&apos;]) : &apos;&apos;;?&gt;</span><br><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;&lt;?php echo($dm.&apos;域名正在出售|The domain is for sale.&apos;) ?&gt;&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;?php require(&quot;dm_dmlist.php&quot;);?&gt;</span><br><span class="line"></span><br><span class="line">  &lt;?php </span><br><span class="line">    //echo ($dm==&quot;Sorry&quot; or array_key_exists($dm,$myDm)==false).&apos;Yes&apos;;</span><br><span class="line">    ?&gt;</span><br><span class="line">&lt;?php if($dm==&quot;Sorry&quot; or array_key_exists($dm,$myDm)==false)&#123; ?&gt;</span><br><span class="line">    </span><br><span class="line">&lt;h1 align=&quot;center&quot;&gt;亲爱的&lt;/h1&gt;</span><br><span class="line">&lt;h2 align=&quot;center&quot;&gt;一切都太突然，这让我如何去爱！&lt;/h2&gt;     </span><br><span class="line">&lt;?php   &#125;else&#123;  ?&gt;</span><br><span class="line">&lt;h1 align=&quot;center&quot;&gt;&lt;?php echo($dm)?&gt;&lt;/h1&gt;</span><br><span class="line">&lt;div style=&quot;width: 100%;display: inline&quot;&gt;&lt;div style=&quot;width: 49%; text-align: right; float: left&quot;&gt;&lt;h2&gt;域名待字闺中&lt;/h2&gt;&lt;/div&gt;&lt;div style=&quot;float: left;width: 2%; text-align: center;&quot;&gt;&lt;h2&gt;|&lt;/h2&gt;&lt;/div&gt;&lt;div style=&quot;width: 49%; text-align: left;float: right&quot;&gt;&lt;h2&gt;The domain is waiting for you&lt;/h2&gt;&lt;/div&gt;&lt;/div&gt;</span><br><span class="line">&lt;hr&gt;</span><br><span class="line">&lt;div style=&quot;width: 100%;display: inline&quot;&gt;&lt;div style=&quot;width: 49%; text-align: right; float: left&quot;&gt;&lt;h3&gt;你来&lt;/h3&gt;&lt;/div&gt;&lt;div style=&quot;float: left;width: 2%; text-align: center;&quot;&gt;&lt;h3&gt;|&lt;/h3&gt;&lt;/div&gt;&lt;div style=&quot;width: 49%; text-align: left;float: right&quot;&gt;&lt;h3&gt;You come&lt;/h3&gt;&lt;/div&gt;&lt;/div&gt;</span><br><span class="line">&lt;div style=&quot;width: 100%;display: inline&quot;&gt;&lt;div style=&quot;width: 49%; text-align: right; float: left&quot;&gt;&lt;h3&gt;即你懂我&lt;/h3&gt;&lt;/div&gt;&lt;div style=&quot;float: left;width: 2%; text-align: center;&quot;&gt;&lt;h3&gt;|&lt;/h3&gt;&lt;/div&gt;&lt;div style=&quot;width: 49%; text-align: left;float: right&quot;&gt;&lt;h3&gt;You must understand my heart&lt;/h3&gt;&lt;/div&gt;&lt;/div&gt;</span><br><span class="line">&lt;div style=&quot;width: 100%;display: inline&quot;&gt;&lt;div style=&quot;width: 49%; text-align: right; float: left&quot;&gt;&lt;h3&gt;请带走我&lt;/h3&gt;&lt;/div&gt;&lt;div style=&quot;float: left;width: 2%; text-align: center;&quot;&gt;&lt;h3&gt;|&lt;/h3&gt;&lt;/div&gt;&lt;div style=&quot;width: 49%; text-align: left;float: right&quot;&gt;&lt;h3&gt;Please take me away&lt;/h3&gt;&lt;/div&gt;&lt;/div&gt;</span><br><span class="line">&lt;div style=&quot;width: 100%;display: inline&quot;&gt;&lt;div style=&quot;width: 49%; text-align: right; float: left&quot;&gt;&lt;h3&gt;让我不再孤寂漂泊&lt;/h3&gt;&lt;/div&gt;&lt;div style=&quot;float: left;width: 2%; text-align: center;&quot;&gt;&lt;h3&gt;|&lt;/h3&gt;&lt;/div&gt;&lt;div style=&quot;width: 49%; text-align: left;float: right&quot;&gt;&lt;h3&gt;It will be my pleasure&lt;/h3&gt;&lt;/div&gt;&lt;/div&gt;</span><br><span class="line">&lt;h4 align=&quot;center&quot; &gt;......&lt;/h4&gt;</span><br><span class="line"></span><br><span class="line">&lt;h4 align=&quot;center&quot; &gt;Email:254828511@QQ.com&lt;/h4&gt;</span><br><span class="line">&lt;?php   &#125; ?&gt;</span><br><span class="line">&lt;?php require(&quot;./dm_foot.php&quot;); ?&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="相关文件-通用底部页面"><a href="#相关文件-通用底部页面" class="headerlink" title="相关文件-通用底部页面"></a>相关文件-通用底部页面</h3><ul><li>显示页面例子dm_foot.php<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p align=&quot;center&quot;&gt;&lt;script type=&quot;text/javascript&quot;&gt;var cnzz_protocol = ((&quot;https:&quot; == document.location.protocol) ? &quot; https://&quot; : &quot; http://&quot;);document.write(unescape(&quot;%3Cspan id=&apos;cnzz_stat_icon_148541&apos;%3E%3C/span%3E%3Cscript src=&apos;&quot; + cnzz_protocol + &quot;s23.cnzz.com/stat.php%3Fid%3D148541%26show%3Dpic&apos; type=&apos;text/javascript&apos;%3E%3C/script%3E&quot;));&lt;/script&gt;   &lt;/p&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h3><ul><li>各大搜索引擎</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;无论怎样，我遇到了，某个模板只允许嵌入ifram框架，但是我又不怎么喜欢这样的模板，想进行重定向，方法让我找到了，可能方法不止一种，虽然我这种方法不是最完备的，但是，我确实是可以实现的。为遇到此种情况的朋友提供一点提示吧。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="daybreak" scheme="https://wqian.net/categories/daybreak/"/>
    
    
      <category term="iframe" scheme="https://wqian.net/tags/iframe/"/>
    
      <category term="重定向" scheme="https://wqian.net/tags/%E9%87%8D%E5%AE%9A%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>php与javascript通信</title>
    <link href="https://wqian.net/blog/2018/0513-php-javascript-communication.html"/>
    <id>https://wqian.net/blog/2018/0513-php-javascript-communication.html</id>
    <published>2018-05-12T17:34:08.000Z</published>
    <updated>2018-05-31T01:15:29.521Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>本文实现php与javascript简单通信。</p></blockquote><a id="more"></a><h3 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h3><ul><li>不需要调用jqury</li><li>使用产生script的方式</li><li><p>服务器端：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">header(&apos;Content-type: application/json&apos;);</span><br><span class="line">//获取回调函数名</span><br><span class="line">$jsoncallback = htmlspecialchars($_REQUEST [&apos;jsoncallback&apos;]);</span><br><span class="line">//json数据</span><br><span class="line">$json_data = &apos;[&quot;customername1&quot;,&quot;customername2&quot;]&apos;;</span><br><span class="line">//输出jsonp格式的数据</span><br><span class="line">echo $jsoncallback . &quot;(&quot; . $json_data . &quot;)&quot;;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></li><li><p>客户端:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;JSONP 实例&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;divCustomers&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">function callbackFunction(result, methodName)</span><br><span class="line">        &#123;</span><br><span class="line">            var html = &apos;&lt;ul&gt;&apos;;</span><br><span class="line">            for(var i = 0; i &lt; result.length; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                html += &apos;&lt;li&gt;&apos; + result[i] + &apos;&lt;/li&gt;&apos;;</span><br><span class="line">            &#125;</span><br><span class="line">            html += &apos;&lt;/ul&gt;&apos;;</span><br><span class="line">            document.getElementById(&apos;divCustomers&apos;).innerHTML = html;</span><br><span class="line">        &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;https://bd72008b-fa6a-4092-b369-2437dec66486.coding.io/jsonp.php?jsoncallback=callbackFunction&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h3><ul><li>需要调用jqury,跨域，不能进行同步处理</li><li><p>服务器端</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php  </span><br><span class="line">    $data = array(  </span><br><span class="line">        &quot;name&quot;=&gt;$_GET[&apos;name&apos;],  </span><br><span class="line">        &quot;age&quot;=&gt;25,  </span><br><span class="line">    );  </span><br><span class="line">    echo $_GET[&apos;callback&apos;].&quot;(&quot;.json_encode($data).&quot;)&quot;; //相当于：echo &apos;getName(&#123;&quot;name&quot;:&quot;小妹子&quot;,&quot;age&quot;:25&#125;)&apos;;// 必须加前缀哦,是从客户端传过来的方法名  </span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></li><li><p>客户端</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;JSONP 实例&lt;/title&gt;</span><br><span class="line">&lt;script src=&quot;http://cdn.static.runoob.com/libs/jquery/1.8.3/jquery.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;divCustomers&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">$.ajax(&#123;  </span><br><span class="line">       url:&apos;https://bd72008b-fa6a-4092-b369-2437dec66486.coding.io/jsonp.php&apos;,    //跨域到http://www.xiaoqiang2.com，另，http://xiaoqiang.com也算跨域  </span><br><span class="line">       type:&apos;GET&apos;,  //jsonp 类型下只能使用GET,不能用POST,使用post提交会造成有些浏览器获取不到返回   例如firebug  </span><br><span class="line">       dataType:&apos;jsonp&apos;, //指定为jsonp类型  </span><br><span class="line">       data:&#123;&quot;name&quot;:&quot;小美人&quot;&#125;,//数据参数  </span><br><span class="line">       jsonp:&apos;callback&apos;,//服务器端获取回调函数名的key，对应后台有$_GET[&apos;callback&apos;]=&apos;getName&apos;;callback是默认值  </span><br><span class="line">       jsonpCallback:&apos;getName&apos;, //回调函数名  </span><br><span class="line">       success:function(result)&#123;  //成功执行处理，对应后台返回的getName(data)方法。  </span><br><span class="line">           $(&quot;#divCustomers&quot;).html(&apos;你妹子： &apos;+result.name+&apos;的年龄：&apos;+result.age+&apos;&apos;); </span><br><span class="line">           //myData是一个div自己加就好了  </span><br><span class="line">         &#125;,  </span><br><span class="line">       error:function(msg)&#123;  </span><br><span class="line">            //执行错误  </span><br><span class="line"></span><br><span class="line">       &#125;  </span><br><span class="line">   &#125;);   </span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;本文实现php与javascript简单通信。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="daybreak" scheme="https://wqian.net/categories/daybreak/"/>
    
    
      <category term="javascript" scheme="https://wqian.net/tags/javascript/"/>
    
      <category term="php" scheme="https://wqian.net/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>利用javascript书签制作有意思的东西</title>
    <link href="https://wqian.net/blog/2018/0511-javascript-bookmark-funything.html"/>
    <id>https://wqian.net/blog/2018/0511-javascript-bookmark-funything.html</id>
    <published>2018-05-11T14:20:58.000Z</published>
    <updated>2018-05-31T01:15:29.521Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>今天我们利用JavaScript来制作一个有意思的书签，关键是可以用它实现简单交互。</p></blockquote><a id="more"></a><h3 id="本地书签"><a href="#本地书签" class="headerlink" title="本地书签"></a>本地书签</h3><ul><li>在浏览器创建书签，名称随便起</li><li>代码简单说明<ul><li>创建一个script标签a</li><li>定义a的各个属性</li><li>注意js代码路径，根据自己需要进行修改</li><li>定义发生错误时候的脚本</li><li>定义错误中的提示代码，中间用到三元运算符</li><li>期间获取浏览器属性b，以及根据属性判断输出错误形式</li><li>代码中有点击隐藏，和定时隐藏</li></ul></li><li>路径如下代码<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">javascript: (function() &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        var a = document.createElement(&apos;SCRIPT&apos;);</span><br><span class="line">        a.type = &apos;text/javascript&apos;,</span><br><span class="line">        a.src = &apos;https://gitee.com/aqtech/appset/raw/master/myt.js&apos;,</span><br><span class="line">        a.charset = &apos;utf-8&apos;,</span><br><span class="line">        a.onerror = function() &#123;</span><br><span class="line">            function d(a) &#123;</span><br><span class="line">                return a.indexOf(&apos;360ee&apos;) &gt; -1 || a.indexOf(&apos;360se&apos;) &gt; -1 || a.indexOf(&apos;se&apos;) &gt; -1 || a.indexOf(&apos;aoyou&apos;) &gt; -1 || a.indexOf(&apos;theworld&apos;) &gt; -1 || a.indexOf(&apos;worldchrome&apos;) &gt; -1 || a.indexOf(&apos;greenbrowser&apos;) &gt; -1 || a.indexOf(&apos;qqbrowser&apos;) &gt; -1 || a.indexOf(&apos;baidu&apos;) &gt; -1</span><br><span class="line">            &#125;</span><br><span class="line">           </span><br><span class="line">            var a = document.createElement(&apos;div&apos;),</span><br><span class="line">            b = navigator.userAgent.toLowerCase(),</span><br><span class="line">            c = b.match(/chrome\/([\d.]+)/)[1];</span><br><span class="line">            a.style.cssText = &apos;position: fixed;top: 10px;right: 30px;padding: 5px;border-radius: 5px;box-shadow: rgb(92, 184, 229) 0px 0px 2px; -webkit-box-shadow: rgb(92, 184, 229) 0px 0px 2px;background-color: rgba(92, 184, 229, 0.498039) !important;z-index: 999999;&apos;,</span><br><span class="line">            a.innerHTML = c &amp;&amp; !d(b) ? &apos;&lt;div style=&quot;padding: 20px;border: 1px solid rgb(92, 184, 229);background: white;border-radius: 5px;width: 330px;&quot;&gt;一不小心出现点小状况，请速度前去 &lt;a style=&quot;color:#1d7fe2&quot; href=&quot;https://tgot.net/about/&quot; target=&quot;_blank&quot;&gt;寻找帮助&lt;/a&gt; &lt;/div&gt;&apos;: &apos;&lt;div style=&quot;padding: 20px;border: 1px solid rgb(92, 184, 229);background: white;border-radius: 5px;&quot;&gt;该扩展暂不支持该类型网站&lt;/div&gt;&apos;,</span><br><span class="line">            document.body.appendChild(a),</span><br><span class="line">            a.onclick = function() &#123;</span><br><span class="line">                a.style.display = &apos;none&apos;</span><br><span class="line">            &#125;,</span><br><span class="line">            setTimeout(function() &#123;</span><br><span class="line">                a.click()</span><br><span class="line">            &#125;,</span><br><span class="line">            8e4)</span><br><span class="line">        &#125;,</span><br><span class="line">        document.getElementsByTagName(&apos;head&apos;)[0].appendChild(a)</span><br><span class="line">    &#125; catch(b) &#123;</span><br><span class="line">        alert(b)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></li></ul><h3 id="js远程代码"><a href="#js远程代码" class="headerlink" title="js远程代码"></a>js远程代码</h3><ul><li>存放位置和上面定义位置一样</li><li>存放代码<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">    alert(window.location.href);</span><br><span class="line">&#125;</span><br><span class="line">catch(err) &#123;</span><br><span class="line">    alert(err.mssage);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="本地书签版本V2"><a href="#本地书签版本V2" class="headerlink" title="本地书签版本V2"></a>本地书签版本V2</h3><ul><li>添加交互验证功能<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">javascript: (function() &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        var a = document.createElement(&apos;SCRIPT&apos;);</span><br><span class="line">        a.type = &apos;text/javascript&apos;,</span><br><span class="line">        a.src = &apos;https://gitee.com/aqtech/appset/raw/master/myt.js?user0=pwd0&apos;,</span><br><span class="line">        a.charset = &apos;utf-8&apos;,</span><br><span class="line">        a.onerror = function() &#123;</span><br><span class="line">            function d(a) &#123;</span><br><span class="line">                return a.indexOf(&apos;360ee&apos;) &gt; -1 || a.indexOf(&apos;360se&apos;) &gt; -1 || a.indexOf(&apos;se&apos;) &gt; -1 || a.indexOf(&apos;aoyou&apos;) &gt; -1 || a.indexOf(&apos;theworld&apos;) &gt; -1 || a.indexOf(&apos;worldchrome&apos;) &gt; -1 || a.indexOf(&apos;greenbrowser&apos;) &gt; -1 || a.indexOf(&apos;qqbrowser&apos;) &gt; -1 || a.indexOf(&apos;baidu&apos;) &gt; -1</span><br><span class="line">            &#125;</span><br><span class="line">            var a = document.createElement(&apos;div&apos;),</span><br><span class="line">            b = navigator.userAgent.toLowerCase(),</span><br><span class="line">            c = b.match(/chrome\/([\d.]+)/)[1];</span><br><span class="line">            a.style.cssText = &apos;position: fixed;top: 10px;right: 30px;padding: 5px;border-radius: 5px;box-shadow: rgb(92, 184, 229) 0px 0px 2px; -webkit-box-shadow: rgb(92, 184, 229) 0px 0px 2px;background-color: rgba(92, 184, 229, 0.498039) !important;z-index: 999999;&apos;,</span><br><span class="line">            a.innerHTML = c &amp;&amp; !d(b) ? &apos;&lt;div style=&quot;padding: 20px;border: 1px solid rgb(92, 184, 229);background: white;border-radius: 5px;width: 330px;&quot;&gt;一不小心出现点小状况，请速度前去 &lt;a style=&quot;color:#1d7fe2&quot; href=&quot;https://tgot.net/about/&quot; target=&quot;_blank&quot;&gt;%E5%AF%BB%E6%89%BE%E5%B8%AE%E5%8A%A9&lt;/a&gt; &lt;/div&gt;&apos;: &apos;&lt;div style=&quot;padding: 20px;border: 1px solid rgb(92, 184, 229);background: white;border-radius: 5px;&quot;&gt;%E8%AF%A5%E6%89%A9%E5%B1%95%E6%9A%82%E4%B8%8D%E6%94%AF%E6%8C%81%E8%AF%A5%E7%B1%BB%E5%9E%8B%E7%BD%91%E7%AB%99&lt;/div&gt;&apos;,</span><br><span class="line">            document.body.appendChild(a),</span><br><span class="line">            a.onclick = function() &#123;</span><br><span class="line">                a.style.display = &apos;none&apos;</span><br><span class="line">            &#125;,</span><br><span class="line">            setTimeout(function() &#123;</span><br><span class="line">                a.click()</span><br><span class="line">            &#125;,</span><br><span class="line">            8e4)</span><br><span class="line">        &#125;,</span><br><span class="line">        document.getElementsByTagName(&apos;head&apos;)[0].appendChild(a)</span><br><span class="line">    &#125; catch(b) &#123;</span><br><span class="line">        alert(b)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></li></ul><h3 id="js远程代码版本V2"><a href="#js远程代码版本V2" class="headerlink" title="js远程代码版本V2"></a>js远程代码版本V2</h3><ul><li>实现交互后与PHP服务器通信验证</li><li>有跨域问题，将js作为公共cdn<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">    //如果已经加载了jqury则不再重新加载</span><br><span class="line">    NeedLoadJqery();</span><br><span class="line">    </span><br><span class="line">    //获取书签传递过来的参数，用户和密码</span><br><span class="line">    var UserPwd=GetUserPwd();</span><br><span class="line">    var user=UserPwd[0];</span><br><span class="line">    var pwd=UserPwd[1];</span><br><span class="line">    var phpsrc=&apos;https://bd72008b-fa6a-4092-b369-2437dec66486.coding.io/jsonp.php&apos;;</span><br><span class="line"></span><br><span class="line">    //本地测试使用</span><br><span class="line">    /*</span><br><span class="line">    var user=&apos;greedy&apos;//UserPwd[0];</span><br><span class="line">    var pwd=&apos;greedy&apos;//UserPwd[1];</span><br><span class="line">   */</span><br><span class="line"></span><br><span class="line">    var src=window.location.href;</span><br><span class="line">   // var url=&apos;https://bd72008b-fa6a-4092-b369-2437dec66486.coding.io/jsget.php&apos;</span><br><span class="line"></span><br><span class="line">  //只能运用异步中成功代码了。 </span><br><span class="line">  $.ajax(&#123;</span><br><span class="line">       async:false, </span><br><span class="line">       url:phpsrc,    //跨域到http://www.xiaoqiang2.com，另，http://xiaoqiang.com也算跨域  </span><br><span class="line">       type:&apos;GET&apos;,  //jsonp 类型下只能使用GET,不能用POST,使用post提交会造成有些浏览器获取不到返回   例如firebug  </span><br><span class="line">       dataType:&apos;jsonp&apos;, //指定为jsonp类型  </span><br><span class="line">       data:&#123;&quot;user&quot;:user,&quot;pwd&quot;:pwd,&quot;src&quot;:src&#125;,//数据参数  </span><br><span class="line">       jsonp:&apos;callback&apos;,//服务器端获取回调函数名的key，对应后台有$_GET[&apos;callback&apos;]=&apos;getName&apos;;callback是默认值  </span><br><span class="line">       jsonpCallback:&apos;JRgetMessage&apos;, //回调函数名  </span><br><span class="line">       success:function(result)&#123;  //成功执行处理，对应后台返回的getName(data)方法。  </span><br><span class="line">        // $(&quot;#divCustomers&quot;).html(&apos;你妹子： &apos;+result.name+&apos;的年龄：&apos;+result.age+&apos;&apos;); </span><br><span class="line"></span><br><span class="line">         // alert(&apos;p1&apos;+result.name+result.age);</span><br><span class="line">         //alert(&quot;message0:&quot;+window.Jqres);  </span><br><span class="line">        ress=JSON.stringify(result);</span><br><span class="line">        alert(ress);</span><br><span class="line">       //ress=result;</span><br><span class="line">        // alert(&apos;p12&apos;+res);</span><br><span class="line">           //myData是一个div自己加就好了  </span><br><span class="line">         &#125;,  </span><br><span class="line">       error:function(msg)&#123;  </span><br><span class="line">        alert(msg);   </span><br><span class="line">       &#125;  </span><br><span class="line">   &#125;);   </span><br><span class="line"></span><br><span class="line">    //var Resget=doFormRequest(url,&quot;get&quot;,&quot;&#123;&apos;user&apos;:&apos;value2&apos;, &apos;pwd&apos;:&apos;value&apos;&#125;&quot;)</span><br><span class="line">    //alert(Resget);</span><br><span class="line"></span><br><span class="line">    //alert(window.location.href);</span><br><span class="line">    //window.open(&quot;tencent://www.jb51.net&quot;);    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//回调函数</span><br><span class="line">    function JRgetMessage0(jsonp)&#123;</span><br><span class="line">       // alert(&quot;message1:&quot;+window.Jqres);  </span><br><span class="line">       // window.Jqres=JSON.stringify(jsonp);</span><br><span class="line">       // alert(&quot;message:&quot;+window.Jqres);  </span><br><span class="line">       // return res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">// 自建get,post函数</span><br><span class="line">    /*</span><br><span class="line">    * @url: url link</span><br><span class="line">    * @action: &quot;get&quot;, &quot;post&quot;</span><br><span class="line">    * @json: &#123;&apos;key1&apos;:&apos;value2&apos;, &apos;key2&apos;:&apos;value2&apos;&#125; </span><br><span class="line">    */</span><br><span class="line">    function doFormRequest(url, action, json)</span><br><span class="line">    &#123;</span><br><span class="line">        var form = document.createElement(&quot;form&quot;);</span><br><span class="line">        form.action = url;</span><br><span class="line">        form.method = action;</span><br><span class="line"></span><br><span class="line">        // append input attribute and valus</span><br><span class="line">        for (var key in json)</span><br><span class="line">        &#123;</span><br><span class="line">            if (json.hasOwnProperty(key))</span><br><span class="line">            &#123;</span><br><span class="line">                var val = json[key];</span><br><span class="line">                input = document.createElement(&quot;input&quot;);</span><br><span class="line">                input.type = &quot;hidden&quot;;</span><br><span class="line">                input.name = key;</span><br><span class="line">                input.value = val;</span><br><span class="line"></span><br><span class="line">                // append key-value to form</span><br><span class="line">                form.appendChild(input)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // send post request</span><br><span class="line">        document.body.appendChild(form);</span><br><span class="line">        form.submit();</span><br><span class="line"></span><br><span class="line">        var res=form;</span><br><span class="line">        // remove form from document</span><br><span class="line">        document.body.removeChild(form);</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //get user and pwd from the src.js?user=pwd</span><br><span class="line">    function GetUserPwd()&#123;</span><br><span class="line">        var js = document.getElementsByTagName(&quot;script&quot;);  </span><br><span class="line">        for (var i = 0; i &lt; js.length; i++) &#123;  </span><br><span class="line">            if (js[i].src.indexOf(&quot;myt.js&quot;) &gt;= 0) &#123;  </span><br><span class="line">                 var arraytemp = new Array();  </span><br><span class="line">                 arraytemp = js[i].src.split(&apos;?&apos;);  </span><br><span class="line">                 arraytemp = arraytemp[1].split(&apos;=&apos;);  </span><br><span class="line">                // alert(arraytemp[0] + &quot;=&quot; + arraytemp[1]);  </span><br><span class="line">                 var user=arraytemp[0];</span><br><span class="line">                 var pwd=arraytemp[1];</span><br><span class="line">                 //alert(user + pwd);     </span><br><span class="line">                 return [user,pwd]     </span><br><span class="line">                 //return &#123;user:arraytemp[0] pwd:arraytemp[1]&#125;;</span><br><span class="line">                 break;</span><br><span class="line">            &#125;  </span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">    // Juge Load Jqury</span><br><span class="line">    function NeedLoadJqery()&#123;</span><br><span class="line">        if(typeof(jQuery)==&quot;undefined&quot;)&#123;</span><br><span class="line">       // alert(&quot;jQuery is not imported&quot;);</span><br><span class="line">       // document.write(&quot;&lt;script type=&apos;text/javascript&apos; src=&apos;https://cdn.bootcss.com/jquery/3.3.1/jquery.js&apos;&gt;&lt;/script&gt;&quot;);  </span><br><span class="line">       </span><br><span class="line">            var newscript = document.createElement(&apos;script&apos;);  </span><br><span class="line">            newscript.setAttribute(&apos;type&apos;,&apos;text/javascript&apos;);  </span><br><span class="line">            newscript.setAttribute(&apos;src&apos;,&apos;https://cdn.bootcss.com/jquery/3.3.1/jquery.js&apos;);  </span><br><span class="line">            var head = document.getElementsByTagName(&apos;head&apos;)[0];  </span><br><span class="line">            head.appendChild(newscript);  </span><br><span class="line">        &#125;else&#123;</span><br><span class="line">       //alert(&quot;jQuery is imported&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">catch(err) &#123;</span><br><span class="line">    alert(err);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="PHP服务器端代码V2"><a href="#PHP服务器端代码V2" class="headerlink" title="PHP服务器端代码V2"></a>PHP服务器端代码V2</h3><ul><li>进行数据库验证<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php  </span><br><span class="line">$user=$_GET[&quot;user&quot;];</span><br><span class="line">$pwd=$_GET[&quot;pwd&quot;];</span><br><span class="line">$src=$_GET[&quot;src&quot;];</span><br><span class="line">$msg=&quot;&quot;;</span><br><span class="line">if ($user==$pwd)</span><br><span class="line">&#123;</span><br><span class="line">    $msg=&quot;true&quot;;</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">    $msg=&quot;false&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    $data = array(</span><br><span class="line">      &quot;msg&quot;=&gt;$msg,</span><br><span class="line">      &quot;user&quot;=&gt;$_GET[&apos;user&apos;],</span><br><span class="line">      &quot;pwd&quot;=&gt;$_GET[&apos;pwd&apos;],</span><br><span class="line">      &quot;src&quot;=&gt;$_GET[&apos;src&apos;],</span><br><span class="line">    );  </span><br><span class="line">    echo $_GET[&apos;callback&apos;].&quot;(&quot;.json_encode($data).&quot;)&quot;; //相当于：echo &apos;getName(&#123;&quot;name&quot;:&quot;小妹子&quot;,&quot;age&quot;:25&#125;)&apos;;// 必须加前缀哦,是从客户端传过来的方法名  </span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul><li>知识<a href="http://www.runoob.com/jsref/jsref-try-catch.html" target="_blank" rel="noopener">http://www.runoob.com/jsref/jsref-try-catch.html</a></li><li>知识<a href="http://www.w3school.com.cn/js/js_onerror.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/js/js_onerror.asp</a></li><li>有道云笔记<a href="http://note.youdao.com/web-clipper-chrome.html" target="_blank" rel="noopener">http://note.youdao.com/web-clipper-chrome.html</a></li><li>脚本压缩<a href="http://tools.jb51.net/code/jscompress" target="_blank" rel="noopener">http://tools.jb51.net/code/jscompress</a></li><li>urlcode转换<a href="http://tool.chinaz.com/tools/urlencode.aspx" target="_blank" rel="noopener">http://tool.chinaz.com/tools/urlencode.aspx</a></li><li><a href="https://blog.csdn.net/hdfqq188816190/article/details/68928732" target="_blank" rel="noopener">https://blog.csdn.net/hdfqq188816190/article/details/68928732</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;今天我们利用JavaScript来制作一个有意思的书签，关键是可以用它实现简单交互。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="daybreak" scheme="https://wqian.net/categories/daybreak/"/>
    
    
      <category term="javascript" scheme="https://wqian.net/tags/javascript/"/>
    
      <category term="bookmark" scheme="https://wqian.net/tags/bookmark/"/>
    
  </entry>
  
  <entry>
    <title>登录远程桌面及文件复制</title>
    <link href="https://wqian.net/blog/2018/0508-remote-desktop-file-copy.html"/>
    <id>https://wqian.net/blog/2018/0508-remote-desktop-file-copy.html</id>
    <published>2018-05-08T08:29:25.000Z</published>
    <updated>2018-05-31T01:15:29.521Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>有这样一种需求，我们打开远程的计算机，并且在远程计算机和本地机器之间进行文件传递。方法可能有很多，比如使用相关软件，QQ远程协助，花生壳等等，而我有自己原始的方法，可能存在问题，但是他的确能实现。与朋友共享。<br><a id="more"></a></p></blockquote><h3 id="远程计算机设置"><a href="#远程计算机设置" class="headerlink" title="远程计算机设置"></a>远程计算机设置</h3><ul><li>获取计算机ip地址</li><li>右键计算机</li><li>选中远程设置，系统属性，允许远程计算机连接到本地</li><li>如果没有密码，并且还需要远程登录，那么就需要如下设置<ul><li>控制面板</li><li>管理工具</li><li>本地安全策略</li><li>使用空白密码的本地账户只允许进行控制台登录设置为禁止</li></ul></li></ul><h3 id="本地计算机设置"><a href="#本地计算机设置" class="headerlink" title="本地计算机设置"></a>本地计算机设置</h3><ul><li>windows</li><li>附件</li><li>远程桌面连接</li><li>输入ip地址</li><li>本地资源</li><li>本地设备和资源中详细信息</li><li>驱动器，选中需要交流的硬盘</li><li>连接登录即可</li><li><h3 id="文献参考"><a href="#文献参考" class="headerlink" title="文献参考"></a>文献参考</h3></li><li><a href="http://www.xitongcheng.com/jiaocheng/win7_article_26089.html" target="_blank" rel="noopener">文献1</a></li><li><a href="https://jingyan.baidu.com/article/2fb0ba406a027300f2ec5f1f.html" target="_blank" rel="noopener">文献2</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;有这样一种需求，我们打开远程的计算机，并且在远程计算机和本地机器之间进行文件传递。方法可能有很多，比如使用相关软件，QQ远程协助，花生壳等等，而我有自己原始的方法，可能存在问题，但是他的确能实现。与朋友共享。&lt;br&gt;
    
    </summary>
    
      <category term="软件列表" scheme="https://wqian.net/categories/%E8%BD%AF%E4%BB%B6%E5%88%97%E8%A1%A8/"/>
    
    
      <category term="远程登录" scheme="https://wqian.net/tags/%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>包容知足和感恩</title>
    <link href="https://wqian.net/blog/2018/0507-index.html"/>
    <id>https://wqian.net/blog/2018/0507-index.html</id>
    <published>2018-05-07T08:00:51.000Z</published>
    <updated>2018-05-31T01:15:29.521Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>生命之中会有许许多多过客在你我彼此之间留宿，与人相处，多一点包容，多一点知足，多一点感恩的心，彼此之间可能才能更好的相处。</p></blockquote><a id="more"></a>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;生命之中会有许许多多过客在你我彼此之间留宿，与人相处，多一点包容，多一点知足，多一点感恩的心，彼此之间可能才能更好的相处。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="daybreak" scheme="https://wqian.net/categories/daybreak/"/>
    
    
      <category term="diary" scheme="https://wqian.net/tags/diary/"/>
    
  </entry>
  
  <entry>
    <title>hexo博客中添加图片音乐和视频</title>
    <link href="https://wqian.net/blog/2018/0426-hexo-insert-picture-music-video.html"/>
    <id>https://wqian.net/blog/2018/0426-hexo-insert-picture-music-video.html</id>
    <published>2018-04-26T07:02:17.000Z</published>
    <updated>2018-05-31T01:15:29.517Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>应用中涉及到往hexo博客中添加图片，音乐和视频。本文简单做个总结，希望对小白同学有所帮助。</p></blockquote><a id="more"></a><h3 id="添加图片"><a href="#添加图片" class="headerlink" title="添加图片"></a>添加图片</h3><ul><li>上传图片到<code>\blog\source\&lt;新建文件夹&gt;</code></li><li>文章中添加如下代码<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![图片说明](/&lt;新建文件夹&gt;/picture.JPG)</span><br></pre></td></tr></table></figure></li></ul><h3 id="添加音乐"><a href="#添加音乐" class="headerlink" title="添加音乐"></a>添加音乐</h3><ul><li><p>代码如下，利用ifram添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86   </span><br><span class="line">    src=&quot;http://music.163.com/outchain/player?type=2&amp;id=25706282&amp;auto=0&amp;height=66&quot;&gt;  </span><br><span class="line">&lt;/iframe&gt;</span><br></pre></td></tr></table></figure></li><li><p>例如以下音乐</p></li></ul><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=524148450&auto=1&height=66"></iframe><h3 id="添加视频"><a href="#添加视频" class="headerlink" title="添加视频"></a>添加视频</h3><ul><li><p>同样利用iframe添加，代码如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe   </span><br><span class="line">    height=498 width=510   </span><br><span class="line">    src=&quot;http://player.youku.com/embed/XNjcyMDU4Njg0&quot;   </span><br><span class="line">    frameborder=0 allowfullscreen&gt;  </span><br><span class="line">&lt;/iframe&gt;</span><br></pre></td></tr></table></figure></li><li><p>应用实例</p></li></ul><iframe height="498" width="510" src="http://player.youku.com/embed/XNjcyMDU4Njg0" frameborder="0" allowfullscreen>  </iframe>  <h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul><li>希望你能喜欢</li><li>爱你，能找到这里</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;应用中涉及到往hexo博客中添加图片，音乐和视频。本文简单做个总结，希望对小白同学有所帮助。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="daybreak" scheme="https://wqian.net/categories/daybreak/"/>
    
    
      <category term="hexo" scheme="https://wqian.net/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>站点图标制作过程</title>
    <link href="https://wqian.net/blog/2018/0426-site-ico-convert.html"/>
    <id>https://wqian.net/blog/2018/0426-site-ico-convert.html</id>
    <published>2018-04-26T03:33:27.000Z</published>
    <updated>2018-05-31T01:15:29.521Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>添加了站点图标，本文记录制作过程。内容涉及svg格式图片网络下载，svg格式图片在线编辑，photoshop修改png图片，png图片在线转换为ico图标。为有相同遭遇的小伙伴提供指引。</p></blockquote><a id="more"></a><h3 id="选取基础图片"><a href="#选取基础图片" class="headerlink" title="选取基础图片"></a>选取基础图片</h3><ul><li>本文使用的是开源的<code>svg</code>格式的四叶草作为基础图片。</li><li>图标来源<a href="https://materialdesignicons.com/" target="_blank" rel="noopener">https://materialdesignicons.com/</a>搜索<code>clover</code></li><li>导出svg格式源文件如下：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;</span><br><span class="line">&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; version=&quot;1.1&quot;  width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot;&gt;</span><br><span class="line">   &lt;path fill=&quot;#000000&quot; d=&quot;M12,11.18C15.3,8.18 17,6.64 17,4.69C17,3.19 15.75,2 14.25,2C13.39,2 12.57,2.36 12,3C11.43,2.36 10.61,2 9.69,2C8.19,2 7,3.25 7,4.75C7,6.64 8.7,8.18 12,11.18M11.18,12C8.18,8.7 6.64,7 4.69,7C3.19,7 2,8.25 2,9.75C2,10.61 2.36,11.43 3,12C2.36,12.57 2,13.39 2,14.31C2,15.81 3.25,17 4.75,17C6.64,17 8.18,15.3 11.18,12M12.83,12C15.82,15.3 17.36,17 19.31,17C20.81,17 22,15.75 22,14.25C22,13.39 21.64,12.57 21,12C21.64,11.43 22,10.61 22,9.69C22,8.19 20.75,7 19.25,7C17.36,7 15.82,8.7 12.83,12M12,12.82C8.7,15.82 7,17.36 7,19.31C7,20.81 8.25,22 9.75,22C10.61,22 11.43,21.64 12,21C12.57,21.64 13.39,22 14.31,22C15.81,22 17,20.75 17,19.25C17,17.36 15.3,15.82 12,12.82Z&quot; /&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure></li></ul><ul><li>下载生成<code>fav.svg</code></li></ul><h3 id="svg在线编辑"><a href="#svg在线编辑" class="headerlink" title="svg在线编辑"></a>svg在线编辑</h3><ul><li>利用网上工具进行svg编辑</li><li>在线工具网站<a href="https://c.runoob.com/more/svgeditor/" target="_blank" rel="noopener">https://c.runoob.com/more/svgeditor/</a></li><li>导入刚才生成的<code>fav.svg</code></li><li>进行编辑，我只是添加了文字WQ，字体选择<code>Euphoria Script</code>，因为我认为比较漂亮</li><li><p>我试着导出png格式，但是失败，只是存储了svg格式的，文件源代码为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg width=&quot;400&quot; height=&quot;400&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;</span><br><span class="line"> &lt;!-- Created with Method Draw - http://github.com/duopixel/Method-Draw/ --&gt;</span><br><span class="line"> &lt;g&gt;</span><br><span class="line">  &lt;title&gt;background&lt;/title&gt;</span><br><span class="line">  &lt;rect fill=&quot;#ffffff&quot; id=&quot;canvas_background&quot; height=&quot;402&quot; width=&quot;402&quot; y=&quot;-1&quot; x=&quot;-1&quot;/&gt;</span><br><span class="line">  &lt;g display=&quot;none&quot; overflow=&quot;visible&quot; y=&quot;0&quot; x=&quot;0&quot; height=&quot;100%&quot; width=&quot;100%&quot; id=&quot;canvasGrid&quot;&gt;</span><br><span class="line">   &lt;rect fill=&quot;url(#gridpattern)&quot; stroke-width=&quot;0&quot; y=&quot;0&quot; x=&quot;0&quot; height=&quot;100%&quot; width=&quot;100%&quot;/&gt;</span><br><span class="line">  &lt;/g&gt;</span><br><span class="line"> &lt;/g&gt;</span><br><span class="line"> &lt;g&gt;</span><br><span class="line">  &lt;title&gt;Layer 1&lt;/title&gt;</span><br><span class="line">  &lt;g stroke=&quot;null&quot; id=&quot;svg_5&quot;&gt;</span><br><span class="line">   &lt;path stroke=&quot;null&quot; id=&quot;svg_4&quot; d=&quot;m200.141955,184.875345c65.386845,-58.992581 99.070978,-89.275439 99.070978,-127.620617c0,-29.49629 -24.767744,-52.896681 -54.489038,-52.896681c-17.040208,0 -33.287848,7.07911 -44.58194,19.664194c-11.294091,-12.585084 -27.541732,-19.664194 -45.770792,-19.664194c-29.721293,0 -53.300186,24.580242 -53.300186,54.076533c0,37.165326 33.684132,67.448184 99.070978,126.440765m-16.24764,16.124639c-59.442587,-64.891839 -89.956448,-98.320968 -128.594129,-98.320968c-29.721293,0 -53.300186,24.580242 -53.300186,54.076533c0,16.911207 7.13311,33.035845 19.814196,44.244436c-12.681085,11.20859 -19.814196,27.333229 -19.814196,45.424287c0,29.49629 24.767744,52.896681 54.489038,52.896681c37.44883,0 67.962691,-33.429129 127.405277,-98.320968m32.693423,0c59.244445,64.891839 89.758306,98.320968 128.395987,98.320968c29.721293,0 53.300186,-24.580242 53.300186,-54.076533c0,-16.911207 -7.13311,-33.035845 -19.814196,-44.244436c12.681085,-11.20859 19.814196,-27.333229 19.814196,-45.424287c0,-29.49629 -24.767744,-52.896681 -54.489038,-52.896681c-37.44883,0 -67.962691,33.429129 -127.207135,98.320968m-16.445782,16.124639c-65.386845,58.992581 -99.070978,89.275439 -99.070978,127.620617c0,29.49629 24.767744,52.896681 54.489038,52.896681c17.040208,0 33.287848,-7.07911 44.58194,-19.664194c11.294091,12.585084 27.541732,19.664194 45.770792,19.664194c29.721293,0 53.300186,-24.580242 53.300186,-54.076533c0,-37.165326 -33.684132,-67.448184 -99.070978,-126.440765z&quot;/&gt;</span><br><span class="line">  &lt;/g&gt;</span><br><span class="line">  &lt;text stroke=&quot;#000000&quot; transform=&quot;matrix(2.941027879714966,0,0,2.9348838329315186,-850.8677682094276,-121.38372795656323) &quot; xml:space=&quot;preserve&quot; text-anchor=&quot;start&quot; font-family=&quot;Euphoria Script&quot; font-size=&quot;47&quot; id=&quot;svg_6&quot; y=&quot;121.63946&quot; x=&quot;298.168409&quot; stroke-width=&quot;0&quot; fill=&quot;#ffffff&quot;&gt;W&lt;/text&gt;</span><br><span class="line">  &lt;text stroke=&quot;#000000&quot; transform=&quot;matrix(2.941027879714966,0,0,2.9348838329315186,-850.8677682094276,-121.38372795656323) &quot; xml:space=&quot;preserve&quot; text-anchor=&quot;start&quot; font-family=&quot;Euphoria Script&quot; font-size=&quot;47&quot; id=&quot;svg_7&quot; y=&quot;118.913628&quot; x=&quot;386.232858&quot; stroke-width=&quot;0&quot; fill=&quot;#ffffff&quot;&gt;Q&lt;/text&gt;</span><br><span class="line"> &lt;/g&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure></li><li><p>由于本地没有<code>Euphoria Script</code>需要自行搜索安装到本地之后再安装，预览svg文件才能正常显示</p></li><li><a href="https://pan.baidu.com/s/1fqrveF0Ex6WTVjGFAKAZgg" target="_blank" rel="noopener">字体备份ckx3</a></li></ul><h3 id="图片编辑及生成"><a href="#图片编辑及生成" class="headerlink" title="图片编辑及生成"></a>图片编辑及生成</h3><ul><li>使用截图软件将打开的svg文件截图生成png，由于我选择的字体比较特殊，所以自行转换</li><li>使用Photoshop进行，参考了微软和谷歌图标的颜色取值对四叶草颜色进行修饰</li><li>更改后导出png格式的图片</li><li>利用<a href="http://www.bitbug.net/" target="_blank" rel="noopener">网上工具</a>转换成ico格式</li></ul><h3 id="生成的文件存入相关目录"><a href="#生成的文件存入相关目录" class="headerlink" title="生成的文件存入相关目录"></a>生成的文件存入相关目录</h3><ul><li>存入模板的<code>themes\next\source\images</code>文件夹</li><li>在next.yml中进行相关设置，即可应用。</li></ul><h3 id="成品欣赏"><a href="#成品欣赏" class="headerlink" title="成品欣赏"></a>成品欣赏</h3><p><img src="/uploads/2018/avatar0.png" alt="avatar1"><br><img src="/uploads/2018/avatar1.png" alt="avatar1"></p><img src="/uploads/2018/avatar0.png" width="100" title="title text [alt text]"><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul><li>利用了网络资源和开源项目，在此致谢。</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;添加了站点图标，本文记录制作过程。内容涉及svg格式图片网络下载，svg格式图片在线编辑，photoshop修改png图片，png图片在线转换为ico图标。为有相同遭遇的小伙伴提供指引。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="软件列表" scheme="https://wqian.net/categories/%E8%BD%AF%E4%BB%B6%E5%88%97%E8%A1%A8/"/>
    
    
      <category term="ico" scheme="https://wqian.net/tags/ico/"/>
    
  </entry>
  
</feed>
